!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=React},function(e,t){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},o=wp.data.registerStore,r={addChannel:function(e){return{type:"ADD_CHANNEL",channelId:e}},removeChannel:function(e){return{type:"REMOVE_CHANNEL",channelId:e}}};o("kunta-api/service-location-service-channel",{reducer:function(e,t){switch(void 0===e&&(e={channelIds:[]}),t.type){case"ADD_CHANNEL":return n({},e,{channelIds:(e.channelIds||[]).concat(t.channelId)});case"REMOVE_CHANNEL":return n({},e,{channelIds:(e.channelIds||[]).filter(function(e){return e!==t.channelId})})}return e},actions:r,selectors:{isChannelPage:function(e,t){return(e.channelIds||[]).indexOf(t)>-1}},resolvers:{isChannelPage:function(e){return wp.data.select("core/editor").getBlocks().filter(function(t){var n=t.attributes;return"kunta-api/service-location-service-channel"===t.name&&n&&n.channelId==e&&n.serviceLocationPage}).length>0?r.addChannel(e):r.removeChannel(e)}}})},function(e,t,n){"use strict";n.r(t);n(1);var o,r=n(0),a=n.n(r),i=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=(wp.i18n.__,function(e){function t(t){var n=e.call(this,t)||this;return n.onInputChange=function(e){var t=wp.apiFetch,o=e.currentTarget.value;if(!(n.state.searching||o.length<3)){var r=new URLSearchParams;r.append("action",n.props.searchAction),r.append("data",o),n.setState({searching:!0}),t({url:ajaxurl,method:"POST",body:r}).then(function(e){n.setState({searching:!1,entities:e})})}},n.state={entities:[],searching:!1,hoverIndex:-1},n}return i(t,e),t.prototype.render=function(){var e=this;return a.a.createElement("div",{style:this.props.style},a.a.createElement(wp.components.BaseControl,{style:{width:"100%"},id:"search",label:this.props.inputLabel,help:this.props.inputHelp},a.a.createElement("input",{id:"search",style:{width:"100%"},onChange:this.onInputChange})),a.a.createElement("div",{style:{height:"300px",overflowY:"auto"}},this.state.searching?a.a.createElement(wp.components.Placeholder,{style:{height:"300px"}},a.a.createElement(wp.components.Spinner,null)):this.state.entities.map(function(t,n){return a.a.createElement("div",{onMouseOver:function(){return e.setState({hoverIndex:n})},onClick:function(){return e.props.onSelect(t)},style:{fontWeight:e.state.hoverIndex==n?"bold":"normal",cursor:"pointer",paddingTop:"5px",paddingBottom:"5px"},key:t.id},e.props.getDisplayName(t))})))},t}(a.a.Component)),s=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=(wp.i18n.__,function(e){function t(t){return e.call(this,t)||this}return s(t,e),t.prototype.onSelect=function(e){this.props.onSelect(e)},t.prototype.render=function(){var e=this;return this.props.open?a.a.createElement(wp.components.Modal,{style:{minWidth:"60%"},title:this.props.modalTitle,onRequestClose:function(){return e.props.onClose()}},a.a.createElement(c,{inputLabel:this.props.inputLabel,inputHelp:this.props.inputHelp,getDisplayName:this.props.getDisplayName,searchAction:this.props.searchAction,onSelect:function(t){return e.onSelect(t)},style:{width:"100%"}})):null},t}(a.a.Component)),p=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),u=function(e,t,n,o){return new(n||(n=Promise))(function(r,a){function i(e){try{s(o.next(e))}catch(e){a(e)}}function c(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(i,c)}s((o=o.apply(e,t||[])).next())})},h=function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},f=wp.i18n.__,d=kuntaApiBlocks.metaformsUrl,v=function(e){function t(t){var n=e.call(this,t)||this;return n.$metaform=null,n.state={json:null},n}return p(t,e),t.prototype.componentWillMount=function(){var e=this;this.loadForm().then(function(t){e.setState({json:t})})},t.prototype.componentDidUpdate=function(e,t){JSON.stringify(this.state.json)===JSON.stringify(t.json)&&this.props.values===e.values||(this.$metaform&&this.$metaform.metaform("destroy"),this.$metaform=jQuery(this.refs.el).find("form.metaform").metaform().on("change","input,select,textarea",this.onMetaformChange.bind(this)))},t.prototype.componentWillUnmount=function(){this.$metaform.metaform("destroy")},t.prototype.render=function(){var e=this;return this.props.open?a.a.createElement(wp.components.Modal,{style:{minWidth:"60%"},title:this.props.title,onRequestClose:function(){e.triggerChange(),e.props.onClose()}},this.renderContent()):null},t.prototype.renderContent=function(){var e=this;return this.state.json&&this.props.values?a.a.createElement("div",{style:{position:"relative"}},a.a.createElement("div",{style:{whiteSpace:"nowrap",position:"absolute",top:"0px",paddingTop:"10px",paddingBottom:"5px",width:"150px",right:"0px",height:"25px",background:"#fff",textAlign:"right",zIndex:1}},this.renderLocales()),a.a.createElement("div",{ref:"el",style:{maxHeight:"calc(80vh - 120px)",overflow:"scroll",marginTop:"-20px",marginLeft:"0px",marginRight:"0px"}},a.a.createElement("div",{style:{paddingBottom:"10px"},dangerouslySetInnerHTML:{__html:this.renderForm()}})),a.a.createElement("div",{style:{position:"absolute",bottom:"0px",left:"0px",right:"0px",height:"25px",paddingTop:"5px",background:"#fff",zIndex:1}},a.a.createElement("button",{onClick:function(){e.triggerChange(),e.props.onClose()}}," ",f("Save","kunta_api_core")," "),a.a.createElement("button",{style:{marginLeft:"3px"},onClick:function(){e.triggerChange(),e.props.onClose()}}," ",f("Cancel","kunta_api_core")," "))):a.a.createElement(wp.components.Spinner,null)},t.prototype.renderLocales=function(){var e=this;return this.props.locales.map(function(t){return a.a.createElement("button",{style:{marginLeft:"3px"},onClick:function(){e.triggerChange(),e.props.onLocaleChange(t)}}," ",t," ")})},t.prototype.renderForm=function(){return mfRender({viewModel:this.state.json,formValues:this.props.values})},t.prototype.getValues=function(){var e={};return this.$metaform.metaform("val",!0).forEach(function(t){e[t.name]=t.value}),e},t.prototype.onMetaformChange=function(e){this.triggerChange()},t.prototype.triggerChange=function(){this.props.onValuesChange(this.props.locale,this.getValues())},t.prototype.loadForm=function(){return u(this,void 0,void 0,function(){return h(this,function(e){return[2,(0,wp.apiFetch)({url:d+"/"+this.props.form+".json"})]})})},t}(a.a.Component),m=function(){function e(){}return e.prototype.getTypedLocalizedValue=function(e,t,n){if(!e)return null;for(var o=0;o<e.length;o++)if(t===e[o].language&&n===e[o].type)return e[o].value;return null},e.prototype.getLocalizedValue=function(e,t,n){if(!e)return null;for(var o=0;o<e.length;o++)if(t===e[o].language)return e[o][n||"value"];return null},e}(),g=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),y=function(e){function t(){return e.call(this)||this}return g(t,e),t.prototype.serviceToForm=function(e,t){var n=this,o=t.type,r=t.chargeType,a=t.fundingType,i=this.getTypedLocalizedValue(t.names,e,"Name"),c=this.getTypedLocalizedValue(t.names,e,"AlternateName"),s=this.getTypedLocalizedValue(t.descriptions,e,"ShortDescription"),l=this.getTypedLocalizedValue(t.descriptions,e,"Description"),p=this.getTypedLocalizedValue(t.descriptions,e,"ChargeTypeAdditionalInfo"),u=this.getTypedLocalizedValue(t.descriptions,e,"ServiceUserInstruction"),h=this.getTypedLocalizedValue(t.descriptions,e,"DeadLineAdditionalInfo"),f=this.getTypedLocalizedValue(t.descriptions,e,"ProcessingTimeAdditionalInfo"),d=this.getTypedLocalizedValue(t.descriptions,e,"ValidityTimeAdditionalInfo"),v=this.getLocalizedValue(t.requirements,e),m=t.vouchers.filter(function(t){return t.value&&t.language===e}),g=t.legislation.map(function(t){return{name:n.getLocalizedValue(t.names,e),webPage:n.getLocalizedValue(t.webPages,e,"url")}}).filter(function(e){return e.name&&e.webPage});return{type:o,serviceChargeType:r,fundingType:a,name:i,alternateName:c,shortDescription:s,description:l,chargeTypeAdditionalInfo:p,userInstruction:u,deadLineAdditionalInfo:h,processingTimeAdditionalInfo:f,validityTimeAdditionalInfo:d,requirements:v,serviceVouchersInUse:m.length>0?"true":"false",serviceVouchers:m,legislation:g}},t}(m),_=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),b=function(){return(b=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},C=wp.i18n.__,q=["fi","sv","en"],w=function(e){function t(t){var n=e.call(this,t)||this;return n.state={locale:"fi",service:null,values:{}},n}return _(t,e),t.prototype.componentWillMount=function(){this.loadService()},t.prototype.render=function(){var e=this;if(!this.props.open)return null;switch(this.state.locale){case"fi":return a.a.createElement(v,{locales:q,locale:"fi",onLocaleChange:function(t){e.changeLocale(t)},onValuesChange:function(t,n){e.updateValues(t,n)},form:"service/service",values:this.getValues("fi"),title:C("Edit service fi","kunta_api_core"),open:this.props.open,onClose:this.props.onClose});case"sv":return a.a.createElement(v,{locales:q,locale:"sv",onLocaleChange:function(t){e.changeLocale(t)},onValuesChange:function(t,n){e.updateValues(t,n)},form:"service/service",values:this.getValues("sv"),title:C("Edit service sv","kunta_api_core"),open:this.props.open,onClose:this.props.onClose});case"en":return a.a.createElement(v,{locales:q,locale:"en",onLocaleChange:function(t){e.changeLocale(t)},onValuesChange:function(t,n){e.updateValues(t,n)},form:"service/service",values:this.getValues("en"),title:C("Edit service en","kunta_api_core"),open:this.props.open,onClose:this.props.onClose});default:return null}},t.prototype.changeLocale=function(e){this.setState({locale:e})},t.prototype.updateValues=function(e,t){var n=b({},this.state.values);n[e]=t,this.setState({locale:e,values:n})},t.prototype.getValues=function(e){return this.state.values[e]},t.prototype.loadService=function(){var e=this,t=wp.apiFetch,n=new URLSearchParams;n.append("action","kunta_api_load_service"),n.append("serviceId",this.props.serviceId),t({url:ajaxurl,method:"POST",body:n}).then(function(t){var n={},o=new y;q.forEach(function(e){n[e]=o.serviceToForm(e,t)}),e.setState({service:t,values:n})})},t}(a.a.Component),S=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),I=wp.i18n.__,E=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isSearchOpen:!1,isEditOpen:!1,component:n.props.component,lang:n.props.lang,serviceId:n.props.serviceId},n}return S(t,e),t.prototype.componentDidUpdate=function(e,t){this.state.component!==t.component&&this.props.onComponentChange(this.state.component),this.state.lang!==t.lang&&this.props.onLangChange(this.state.lang),this.state.serviceId!==t.serviceId&&this.props.onServiceIdChange(this.state.serviceId)},t.prototype.render=function(){var e=this,t=wp.components.Button,n=["description","userInstruction","languages","electronicServiceChannelIds","phoneServiceChannelIds","printableFormServiceChannelIds","serviceLocationServiceChannelIds","webPageServiceChannelIds"].map(function(e){return{label:I("servicecomponent."+e,"kunta_api_core"),value:e}}),o=["fi","sv","en"].map(function(e){return{label:I("language."+e,"kunta_api_core"),value:e}});return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("div",{style:{float:"right"}},a.a.createElement(t,{className:"button",isDefault:!0,onClick:function(){return e.setState({isSearchOpen:!0})}},I("Change service","kunta_api_core"))),a.a.createElement("div",{style:{float:"right"}},a.a.createElement(t,{className:"button",style:{marginRight:"2px"},isDefault:!0,onClick:function(){return e.setState({isEditOpen:!0})}},I("Edit service","kunta_api_core"))),a.a.createElement("div",{style:{fontSize:"16px"}},a.a.createElement("div",{style:{float:"left",paddingRight:"5px"}},I("Current service:","kunta_api_core")),a.a.createElement(wp.components.ServerSideRender,{block:"kunta-api/service",attributes:{serviceId:this.state.serviceId,lang:this.state.lang,component:this.state.component},urlQueryArgs:{displayName:!0}}))),a.a.createElement(wp.components.SelectControl,{label:I("Component","kunta_api_core"),value:this.state.component,options:n,onChange:function(t){e.setState({component:t})}}),a.a.createElement(wp.components.SelectControl,{label:I("Language","kunta_api_core"),value:this.state.lang,options:o,onChange:function(t){e.setState({lang:t})}}),a.a.createElement(l,{modalTitle:I("Search Services","kunta_api_core"),inputLabel:I("Search Services","kunta_api_core"),inputHelp:I("Enter some text to search services","kunta_api_core"),searchAction:"kunta_api_search_services",open:this.state.isSearchOpen,getDisplayName:function(e){var t=e.names||[];return t.sort(function(e,t){return"fi"===e.language?-1:1}),t.length?t[0].value:null},onSelect:function(t){e.setState({isSearchOpen:!1,serviceId:t.id})},onClose:function(){return e.setState({isSearchOpen:!1})}}),a.a.createElement(w,{serviceId:this.state.serviceId,open:this.state.isEditOpen,onClose:function(){return e.setState({isEditOpen:!1})}}),a.a.createElement("hr",null),a.a.createElement(wp.components.ServerSideRender,{block:"kunta-api/service",attributes:{serviceId:this.state.serviceId,lang:this.state.lang,component:this.state.component},urlQueryArgs:{preview:!0}}))},t}(a.a.Component),k=wp.i18n.__;wp.blocks.registerBlockType("kunta-api/service",{title:k("Kunta API Service","kunta_api_core"),icon:a.a.createElement("svg",{"aria-hidden":"true",width:"0.46em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 640 1408"},a.a.createElement("path",{d:"M640 1216v128q0 26-19 45t-45 19H64q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h64V768H64q-26 0-45-19T0 704V576q0-26 19-45t45-19h384q26 0 45 19t19 45v576h64q26 0 45 19t19 45zM512 64v192q0 26-19 45t-45 19H192q-26 0-45-19t-19-45V64q0-26 19-45t45-19h256q26 0 45 19t19 45z",fill:"#626262"})),category:"layout",attributes:{serviceId:{type:"string"},component:{type:"string"},lang:{type:"string"}},edit:function(e){return a.a.createElement(E,{component:e.attributes.component,lang:e.attributes.lang,serviceId:e.attributes.serviceId,onComponentChange:function(t){e.setAttributes({component:t})},onLangChange:function(t){e.setAttributes({lang:t})},onServiceIdChange:function(t){e.setAttributes({serviceId:t})}})},save:function(){return null}});var O=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),L=wp.data.withSelect,x=wp.i18n.__,P=function(e){function t(t){return e.call(this,t)||this}return O(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(wp.components.CheckboxControl,{label:x("Service location page","kunta_api_core"),checked:this.props.isChecked,onChange:function(t){t?wp.data.dispatch("kunta-api/service-location-service-channel").addChannel(e.props.channelId):wp.data.dispatch("kunta-api/service-location-service-channel").removeChannel(e.props.channelId)}})},t}(a.a.Component),A=L(function(e,t){return{isChecked:(0,e("kunta-api/service-location-service-channel").isChannelPage)(t.channelId)}})(P),z=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),T=wp.i18n.__,V=wp.data.subscribe,j=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isOpen:!1,component:n.props.component,lang:n.props.lang,channelId:n.props.channelId,serviceLocationPage:n.props.serviceLocationPage},V(function(){var e=wp.data.select("kunta-api/service-location-service-channel").isChannelPage;n.setState({serviceLocationPage:e(n.state.channelId)})}),n}return z(t,e),t.prototype.componentDidUpdate=function(e,t){this.state.component!==t.component&&this.props.onComponentChange(this.state.component),this.state.lang!==t.lang&&this.props.onLangChange(this.state.lang),this.state.channelId!==t.channelId&&this.props.onChannelIdChange(this.state.channelId),this.state.serviceLocationPage!==t.serviceLocationPage&&this.props.onServiceLocationPageChange(this.state.serviceLocationPage)},t.prototype.render=function(){var e=this,t=wp.components.Button,n=["description","adresses","email","fax","name","phone","phone-charge-info","servicehours","webpages"].map(function(e){return{label:T("servicelocationservicechannel."+e,"kunta_api_core"),value:e}}),o=["fi","sv","en"].map(function(e){return{label:T("language."+e,"kunta_api_core"),value:e}});return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("div",{style:{float:"right"}},a.a.createElement(t,{className:"button",isDefault:!0,onClick:function(){return e.setState({isOpen:!0})}},T("Change service location","kunta_api_core"))),a.a.createElement("div",{style:{fontSize:"16px"}},a.a.createElement("div",{style:{float:"left",paddingRight:"5px"}},T("Current service location:","kunta_api_core")),a.a.createElement(wp.components.ServerSideRender,{block:"kunta-api/service-location-service-channel",attributes:{channelId:this.state.channelId,lang:this.state.lang,component:this.state.component},urlQueryArgs:{displayName:!0}}))),a.a.createElement(wp.components.SelectControl,{label:T("Component","kunta_api_core"),value:this.state.component,options:n,onChange:function(t){e.setState({component:t})}}),a.a.createElement(wp.components.SelectControl,{label:T("Language","kunta_api_core"),value:this.state.lang,options:o,onChange:function(t){e.setState({lang:t})}}),a.a.createElement(l,{modalTitle:T("Search Services Locations","kunta_api_core"),inputLabel:T("Search Services Locations","kunta_api_core"),inputHelp:T("Enter some text to search service locations","kunta_api_core"),searchAction:"kunta_api_search_service_location_channels",open:this.state.isOpen,getDisplayName:function(e){var t=e.names||[];return t.sort(function(e,t){return"fi"===e.language?-1:1}),t.length?t[0].value:null},onSelect:function(t){e.setState({isOpen:!1,channelId:t.id})},onClose:function(){return e.setState({isOpen:!1})}}),a.a.createElement(A,{channelId:this.state.channelId,onChange:function(t){e.setState({serviceLocationPage:t})}}),a.a.createElement("hr",null),a.a.createElement(wp.components.ServerSideRender,{block:"kunta-api/service-location-service-channel",attributes:{channelId:this.state.channelId,lang:this.state.lang,component:this.state.component},urlQueryArgs:{preview:!0}}))},t}(a.a.Component),M=wp.i18n.__;wp.blocks.registerBlockType("kunta-api/service-location-service-channel",{title:M("Kunta API Service Location","kunta_api_core"),icon:a.a.createElement("svg",{"aria-hidden":"true",width:"0.79em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1408 1792"},a.a.createElement("path",{d:"M1344 0q26 0 45 19t19 45v1664q0 26-19 45t-45 19H64q-26 0-45-19t-19-45V64q0-26 19-45T64 0h1280zM512 288v64q0 14 9 23t23 9h64q14 0 23-9t9-23v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23zm0 256v64q0 14 9 23t23 9h64q14 0 23-9t9-23v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23zm0 256v64q0 14 9 23t23 9h64q14 0 23-9t9-23v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23zm0 256v64q0 14 9 23t23 9h64q14 0 23-9t9-23v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23zm-128 320v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm512 1280v-192q0-14-9-23t-23-9H544q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm0-512v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm256 1024v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23z",fill:"#626262"})),category:"layout",attributes:{channelId:{type:"string"},component:{type:"string"},lang:{type:"string"},serviceLocationPage:{type:"boolean"}},edit:function(e){return a.a.createElement(j,{component:e.attributes.component,lang:e.attributes.lang,channelId:e.attributes.channelId,serviceLocationPage:e.attributes.serviceLocationPage,onComponentChange:function(t){e.setAttributes({component:t})},onLangChange:function(t){e.setAttributes({lang:t})},onChannelIdChange:function(t){e.setAttributes({channelId:t})},onServiceLocationPageChange:function(t){e.setAttributes({serviceLocationPage:t})}})},save:function(){return null}})}]);