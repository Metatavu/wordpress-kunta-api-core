/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/adapters/abstract-adapter.ts":
/*!******************************************!*\
  !*** ./src/adapters/abstract-adapter.ts ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.ts\");\n\n/**\n * Base class for form <> REST resource adapters\n */\nvar AbstractAdapter = /** @class */ (function () {\n    /**\n     * Constructor\n     */\n    function AbstractAdapter() {\n    }\n    /**\n     * Returns array of supported locales\n     */\n    AbstractAdapter.prototype.getSupportedLocales = function () {\n        return [\"fi\", \"sv\", \"en\"];\n    };\n    /**\n     * Returns localized value\n     *\n     * @param values array containing localized values\n     * @param locale Locale\n     * @param property property containing value. Defaults to 'value'\n     * @returns value\n     */\n    AbstractAdapter.prototype.getLocalizedValue = function (values, locale, property) {\n        return _utils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getLocalizedValue(values, locale, property);\n    };\n    /**\n     * Returns list of values in specified locale\n     *\n     * @param values values\n     * @param locale locale\n     * @returns list of values in specified locale\n     */\n    AbstractAdapter.prototype.getLocalizedValues = function (values, locale) {\n        return (values || []).filter(function (value) {\n            return value.value && value.language === locale;\n        });\n    };\n    /**\n     * Sets localized value (e.g. service requirements) value\n     *\n     * @param result result object\n     * @param resultProperty result object property\n     * @param localeValues locale values from form\n     * @param formProperty form property\n     * @param language locale\n     */\n    AbstractAdapter.prototype.setLocalizedValue = function (result, resultProperty, localeValues, formProperty, language) {\n        this.setLocalizedPropertyValue(result, resultProperty, \"value\", localeValues, formProperty, language);\n    };\n    /**\n     * Sets typed localized value (e.g. service description) value\n     *\n     * @param result result object\n     * @param resultProperty result object property\n     * @param localeValues locale values from form\n     * @param formProperty form property\n     * @param language locale\n     * @param type type\n     */\n    AbstractAdapter.prototype.setTypedLocalizedValue = function (result, resultProperty, localeValues, formProperty, language, type) {\n        if (!result[resultProperty]) {\n            result[resultProperty] = [];\n        }\n        var value = localeValues[formProperty];\n        if (!value) {\n            return;\n        }\n        for (var i = 0; i < result[resultProperty].length; i++) {\n            if (result[resultProperty][i].language === language && result[resultProperty][i].type === type) {\n                result[resultProperty][i].value = value;\n                return;\n            }\n        }\n        result[resultProperty].push({\n            value: value,\n            language: language,\n            type: type\n        });\n    };\n    /**\n     * Sets values from table into result object\n     *\n     * @param result result object\n     * @param resultProperty result object property\n     * @param localeValues locale values from form\n     * @param formProperty form property\n     * @param language locale\n     * @param filterFunction function used to filter values (e.g. remove nulls). Optional\n     * @param mapFunction function used to map values. Optional\n     */\n    AbstractAdapter.prototype.setLocalizedTableValues = function (result, resultProperty, localeValues, formProperty, language, filterFunction, mapFunction) {\n        if (!result[resultProperty]) {\n            result[resultProperty] = [];\n        }\n        var value = localeValues[formProperty];\n        if (!value) {\n            return;\n        }\n        var tableValues = Array.isArray(value) ? value : JSON.parse(value);\n        if (filterFunction) {\n            tableValues = tableValues.filter(filterFunction);\n        }\n        var mappedValues = tableValues.map(mapFunction ? mapFunction : function (value) {\n            return Object.assign({\n                language: language\n            }, value);\n        }) || [];\n        result[resultProperty] = result[resultProperty].concat(mappedValues);\n    };\n    /**\n     * Returns localized value for locale and type\n     *\n     * @param values values\n     * @param locale locale\n     * @param type type\n     * @returns value\n     */\n    AbstractAdapter.prototype.getTypedLocalizedValue = function (values, locale, type) {\n        if (!values) {\n            return null;\n        }\n        for (var i = 0; i < values.length; i++) {\n            if (locale === values[i].language && type === values[i].type) {\n                return values[i].value;\n            }\n        }\n        return null;\n    };\n    /**\n     * Translates areas to be suitable for form\n     *\n     * @param areas areas\n     * @returns area items\n     */\n    AbstractAdapter.prototype.getAreaIds = function (areas) {\n        var areaCodes = [];\n        areas.forEach(function (area) {\n            if (area.type !== 'Municipality') {\n                areaCodes.push(area.type + \":\" + area.code);\n            }\n            else {\n                area.municipalities.forEach(function (municipality) {\n                    areaCodes.push(\"Municipality:\" + municipality.code);\n                });\n            }\n        });\n        return areaCodes;\n    };\n    /**\n     * Translates areas from form to be suitable for REST\n     *\n     * @param areaType area type\n     * @param areas array of area values\n     * @returns result\n     */\n    AbstractAdapter.prototype.areasFromForm = function (areaType, areas) {\n        if (areaType === 'LimitedType') {\n            var mucicipalitiesIndex_1 = -1;\n            var result_1 = [];\n            (areas || '').split(',').forEach(function (area) {\n                var parts = area.split(':');\n                var type = parts[0];\n                var code = parts[1];\n                if (type === 'Municipality') {\n                    if (mucicipalitiesIndex_1 > -1) {\n                        result_1[mucicipalitiesIndex_1].municipalities.push({\n                            code: code\n                        });\n                    }\n                    else {\n                        mucicipalitiesIndex_1 = result_1.push({\n                            'type': 'Municipality',\n                            'municipalities': [{\n                                    code: code\n                                }]\n                        }) - 1;\n                    }\n                }\n                else {\n                    result_1.push({\n                        type: type,\n                        code: code\n                    });\n                }\n            });\n            return result_1;\n        }\n    };\n    /**\n     * Converts boolean from form into boolean\n     *\n     * @param value form value\n     * @param defaultValue default value\n     * @returns boolean\n     */\n    AbstractAdapter.prototype.getFormBooleanValue = function (value, defaultValue) {\n        if (value === 'true') {\n            return true;\n        }\n        else if (value === 'false') {\n            return false;\n        }\n        return defaultValue;\n    };\n    /**\n     * Returns list of emails in specified locale\n     *\n     * @param {Array} emails emails\n     * @param {String} locale locale\n     * @returns {Array} list of emails in specified locale\n     */\n    AbstractAdapter.prototype.getLocalizedEmails = function (emails, locale) {\n        return this.getLocalizedValues(emails, locale);\n    };\n    /**\n     * Returns list of phones in specified locale\n     *\n     * @param phones phones\n     * @param locale locale\n     * @returns list of phones in specified locale\n     */\n    AbstractAdapter.prototype.getLocalizedPhoneNumbers = function (phones, locale, type) {\n        return (phones || [])\n            .filter(function (phone) {\n            if (type && phone.type !== type) {\n                return false;\n            }\n            return phone.number && phone.language === locale;\n        })\n            .map(function (phone) {\n            return Object.assign({}, phone, {\n                isFinnishServiceNumber: phone.isFinnishServiceNumber ? \"true\" : \"false\"\n            });\n        });\n    };\n    /**\n     * Returns web page url by locale\n     *\n     * @param webPages web pages\n     * @param locale locale\n     * @return web page url or null if not found\n     */\n    AbstractAdapter.prototype.getLocalizedWebPageUrl = function (webPages, locale) {\n        var localeWebPages = this.getLocalizedWebPages(webPages, locale);\n        if (localeWebPages && localeWebPages.length) {\n            return localeWebPages[0].url;\n        }\n        return null;\n    };\n    /**\n     * Returns list of web pages in specified locale\n     *\n     * @param webPages web pages\n     * @param locale locale\n     * @returns list of web pages in specified locale\n     */\n    AbstractAdapter.prototype.getLocalizedWebPages = function (webPages, locale) {\n        return (webPages || []).filter(function (webPage) {\n            return webPage.url && webPage.language === locale;\n        });\n    };\n    /**\n     * Sets localized value (e.g. service requirements) value\n     *\n     * @param result result object\n     * @param resultProperty result object property\n     * @param localeValues locale values from form\n     * @param formProperty form property\n     * @param language locale\n     */\n    AbstractAdapter.prototype.setLocalizedWebPages = function (result, resultProperty, localeValues, formProperty, language) {\n        this.setLocalizedPropertyValue(result, resultProperty, \"url\", localeValues, formProperty, language);\n    };\n    /**\n     * Sets localized property value\n     *\n     * @param result result object\n     * @param resultProperty result object property\n     * @param resultField value field in result item\n     * @param localeValues locale values from form\n     * @param formProperty form property\n     * @param language locale\n     */\n    AbstractAdapter.prototype.setLocalizedPropertyValue = function (result, resultProperty, resultField, localeValues, formProperty, language) {\n        if (!result[resultProperty]) {\n            result[resultProperty] = [];\n        }\n        var value = localeValues[formProperty];\n        if (!value) {\n            return;\n        }\n        for (var i = 0; i < result[resultProperty].length; i++) {\n            if (result[resultProperty][i].language === language) {\n                result[resultProperty][i][resultProperty] = value;\n                return;\n            }\n        }\n        var resultItem = {\n            language: language\n        };\n        resultItem[resultField] = value;\n        result[resultProperty].push(resultItem);\n    };\n    /**\n     * Returns array value from form\n     *\n     * @param sourceObject\n     * @param sourceProperty\n     */\n    AbstractAdapter.prototype.getFormArray = function (sourceObject, sourceProperty) {\n        if (!sourceObject || sourceObject[sourceProperty]) {\n            return [];\n        }\n        if (Array.isArray(sourceObject[sourceProperty])) {\n            return sourceObject[sourceProperty];\n        }\n        return JSON.parse(sourceObject[sourceProperty]);\n    };\n    return AbstractAdapter;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (AbstractAdapter);\n\n\n//# sourceURL=webpack:///./src/adapters/abstract-adapter.ts?");

/***/ }),

/***/ "./src/adapters/abstract-service-channel-adapter.ts":
/*!**********************************************************!*\
  !*** ./src/adapters/abstract-service-channel-adapter.ts ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _abstract_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract-adapter */ \"./src/adapters/abstract-adapter.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n/**\n * Adapter for transforming service data between form and REST forms\n */\nvar AbstractServiceChannelAdapter = /** @class */ (function (_super) {\n    __extends(AbstractServiceChannelAdapter, _super);\n    /**\n     * Constructor\n     */\n    function AbstractServiceChannelAdapter() {\n        return _super.call(this) || this;\n    }\n    /**\n     * Extract form service hours from channel REST resource\n     *\n     * @param channel channel\n     * @return form data\n     */\n    AbstractServiceChannelAdapter.prototype.serviceHoursToForm = function (channel) {\n        var _this = this;\n        return channel.serviceHours.map(function (serviceHour) {\n            return _this.serviceHourToForm(serviceHour);\n        });\n    };\n    /**\n     * Translates form service hours into REST service hours\n     *\n     * @param formValues form values\n     * @return service hours\n     */\n    AbstractServiceChannelAdapter.prototype.serviceHoursFromForm = function (formValues) {\n        var _this = this;\n        return formValues.map(function (formValue) {\n            return _this.serviceHourFromForm(formValue);\n        });\n    };\n    /**\n     * Translates form service hour into REST service hour\n     *\n     * @param formValue form value\n     * @return service hour\n     */\n    AbstractServiceChannelAdapter.prototype.serviceHourFromForm = function (formValue) {\n        var serviceHourType = formValue.type;\n        switch (serviceHourType) {\n            case \"Exceptional\":\n                return this.serviceHourFromFormException(formValue);\n            case \"DaysOfTheWeek\":\n                return this.serviceHourFromFormStandard(formValue);\n            case \"OverMidnight\":\n                return this.serviceHourFromFormSpecial(formValue);\n        }\n    };\n    /**\n     * Translates exception form service hour into REST service hour\n     *\n     * @param formValue form value\n     * @return service hour\n     */\n    AbstractServiceChannelAdapter.prototype.serviceHourFromFormException = function (formValues) {\n        var additionalInformation = [];\n        var isClosed = formValues.type === 'closed-all-day';\n        var validForNow = false;\n        var toTime = isClosed ? null : formValues[\"Exception-to-time\"];\n        var fromTime = isClosed ? null : formValues[\"Exception-from-time\"];\n        var openingHour = [];\n        if (toTime || fromTime) {\n            openingHour.push({\n                dayFrom: null,\n                dayTo: null,\n                from: fromTime,\n                to: toTime,\n                isExtra: false\n            });\n        }\n        this.getSupportedLocales().forEach(function (locale) {\n            var value = formValues[\"Exception-additional-information-\" + locale];\n            if (value) {\n                additionalInformation.push({\n                    language: locale,\n                    value: value\n                });\n            }\n        });\n        return {\n            serviceHourType: formValues.type,\n            validFrom: _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].parseIsoDate(formValues[\"Exception-from-date\"]),\n            validTo: _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].parseIsoDate(formValues[\"Exception-to-date\"]),\n            isClosed: isClosed,\n            validForNow: validForNow,\n            additionalInformation: additionalInformation,\n            openingHour: openingHour\n        };\n    };\n    /**\n     * Translates standard form service hour into REST service hour\n     *\n     * @param formValue form value\n     * @return service hour\n     */\n    AbstractServiceChannelAdapter.prototype.serviceHourFromFormStandard = function (formValues) {\n        var isClosed = false;\n        var validForNow = formValues[formValues.type + \"-validForNow\"] === \"true\";\n        var additionalInformation = [];\n        var serviceHours = formValues['Standard-open24h'] ? [] : formValues['Standard-openinghours'] || [];\n        var openingHour = (Array.isArray(serviceHours) ? serviceHours : JSON.parse(serviceHours))\n            .map(function (serviceHour) {\n            return {\n                dayFrom: parseInt(serviceHour.day),\n                dayTo: parseInt(serviceHour.day),\n                from: serviceHour.from,\n                to: serviceHour.to,\n                isExtra: false\n            };\n        });\n        return {\n            serviceHourType: formValues.type,\n            validFrom: validForNow ? null : _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].parseIsoDate(formValues[formValues.type + \"-validFrom\"]),\n            validTo: validForNow ? null : _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].parseIsoDate(formValues[formValues.type + \"-validTo\"]),\n            isClosed: isClosed,\n            validForNow: validForNow,\n            additionalInformation: additionalInformation,\n            openingHour: openingHour\n        };\n    };\n    /**\n     * Translates special form service hour into REST service hour\n     *\n     * @param formValue form value\n     * @return service hour\n     */\n    AbstractServiceChannelAdapter.prototype.serviceHourFromFormSpecial = function (formValues) {\n        var isClosed = false;\n        var validForNow = formValues[formValues.type + \"-validForNow\"] === \"true\";\n        var additionalInformation = [];\n        var openingHour = [{\n                dayFrom: parseInt(formValues['Special-from-date']),\n                dayTo: parseInt(formValues['Special-to-date']),\n                from: formValues['Special-from-time'],\n                to: formValues['Special-to-time'],\n                isExtra: false\n            }];\n        return {\n            serviceHourType: formValues.type,\n            validFrom: validForNow ? null : _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].parseIsoDate(formValues[formValues.type + \"-validFrom\"]),\n            validTo: validForNow ? null : _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].parseIsoDate(formValues[formValues.type + \"-validTo\"]),\n            isClosed: isClosed,\n            validForNow: validForNow,\n            additionalInformation: additionalInformation,\n            openingHour: openingHour\n        };\n    };\n    /**\n     * Translates REST service hour to be suitable for form\n     *\n     * @param serviceHour service hour\n     * @return\n     */\n    AbstractServiceChannelAdapter.prototype.serviceHourToForm = function (serviceHour) {\n        var _this = this;\n        if (!serviceHour) {\n            return {};\n        }\n        var type = serviceHour.serviceHourType;\n        var validForNow = serviceHour.validForNow ? \"true\" : \"false\";\n        var validFrom = serviceHour.validForNow || !serviceHour.validFrom ? null : moment(serviceHour.validFrom);\n        var validTo = serviceHour.validForNow || !serviceHour.validTo ? null : moment(serviceHour.validTo);\n        var open24h = serviceHour.openingHour.length === 0 && !serviceHour.isClosed;\n        var validFromStr = validFrom ? validFrom.format() : null;\n        var validToStr = validTo ? validTo.format() : null;\n        var openingHour = serviceHour.openingHour && serviceHour.openingHour.length ? serviceHour.openingHour[0] : null;\n        var openingHours = [];\n        (serviceHour.openingHour || []).forEach(function (openingHour) {\n            for (var day = openingHour.dayFrom; day <= openingHour.dayTo; day++) {\n                openingHours.push({\n                    day: day,\n                    from: openingHour.from,\n                    to: openingHour.to\n                });\n            }\n        });\n        switch (type) {\n            case 'DaysOfTheWeek':\n                return {\n                    'type': type,\n                    'Standard-validForNow': validForNow,\n                    'Standard-validFrom': validFromStr,\n                    'Standard-validTo': validToStr,\n                    'Standard-open24h': open24h,\n                    'Standard-openinghours': openingHours\n                };\n            case 'OverMidnight':\n                return {\n                    'type': type,\n                    'Special-validForNow': validForNow,\n                    'Special-validFrom': validFromStr,\n                    'Special-validTo': validToStr,\n                    'Special-from-date': openingHour ? openingHour.dayFrom : null,\n                    'Special-from-time': openingHour ? openingHour.from : null,\n                    'Special-to-date': openingHour ? openingHour.dayTo : null,\n                    'Special-to-time': openingHour ? openingHour.to : null\n                };\n            case 'Exceptional':\n                var openFrom = openingHour ? openingHour.from : null;\n                var openTo = openingHour ? openingHour.to : null;\n                var exceptionType = !validTo ? !openFrom && !openTo ? 'closed-all-day' : 'single' : 'range';\n                if (validFrom && openFrom) {\n                    var parts = openFrom.split(':');\n                    validFrom.hour(parseInt(parts[0]));\n                    validFrom.minute(parseInt(parts[1]));\n                }\n                if (validTo && openTo) {\n                    var parts = openTo.split(':');\n                    validTo.hour(parseInt(parts[0]));\n                    validTo.minute(parseInt(parts[1]));\n                }\n                var result_1 = {\n                    'type': type,\n                    'Exception-type': exceptionType,\n                    'Exception-from-date': validFrom ? validFrom.format() : null,\n                    'Exception-to-date': validTo ? validTo.format() : null,\n                    'Exception-from-time': openFrom,\n                    'Exception-to-time': openTo\n                };\n                this.getSupportedLocales().forEach(function (locale) {\n                    result_1[\"Exception-additional-information-\" + locale] = _this.getLocalizedValue(serviceHour.additionalInformation, locale);\n                });\n                return result_1;\n            default:\n                throw new Error(\"Unknown service hour type \" + type);\n        }\n    };\n    return AbstractServiceChannelAdapter;\n}(_abstract_adapter__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (AbstractServiceChannelAdapter);\n\n\n//# sourceURL=webpack:///./src/adapters/abstract-service-channel-adapter.ts?");

/***/ }),

/***/ "./src/adapters/electronic-service-channel-adapter.ts":
/*!************************************************************!*\
  !*** ./src/adapters/electronic-service-channel-adapter.ts ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _abstract_service_channel_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract-service-channel-adapter */ \"./src/adapters/abstract-service-channel-adapter.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n/**\n * Adapter for transforming service data between form and REST forms\n */\nvar ElectronicServiceChannelAdapter = /** @class */ (function (_super) {\n    __extends(ElectronicServiceChannelAdapter, _super);\n    /**\n     * Constructor\n     */\n    function ElectronicServiceChannelAdapter() {\n        return _super.call(this) || this;\n    }\n    /**\n     * Extracts form data from REST resource\n     *\n     * @param locale locale locale\n     * @param channel channel\n     * @returns form data\n     */\n    ElectronicServiceChannelAdapter.prototype.channelToForm = function (locale, channel) {\n        return {\n            name: this.getTypedLocalizedValue(channel.names, locale, 'Name'),\n            shortDescription: this.getTypedLocalizedValue(channel.descriptions, locale, 'Summary'),\n            description: this.getTypedLocalizedValue(channel.descriptions, locale, 'Description'),\n            supportPhones: this.getLocalizedPhoneNumbers(channel.supportPhones, locale),\n            supportEmails: this.getLocalizedEmails(channel.supportEmails, locale),\n            languages: channel.languages,\n            attachments: (channel.attachments || []).filter(function (attachment) {\n                return attachment.url && attachment.language === locale;\n            }),\n            webPage: this.getLocalizedWebPageUrl(channel.webPages, locale),\n            serviceHours: null,\n            publishingStatus: channel.publishingStatus\n        };\n    };\n    /**\n     * Extracts additional form data from REST resource\n     *\n     * @param channel channel\n     * @returns form data\n     */\n    ElectronicServiceChannelAdapter.prototype.additionalToForm = function (channel) {\n        return {\n            requiresAuthentication: channel.requiresAuthentication,\n            requiresSignature: channel.requiresSignature,\n            signatureQuantity: channel.signatureQuantity,\n            areas: this.getAreaIds(channel.areas || []).join(\",\"),\n            areaType: channel.areaType\n        };\n    };\n    /**\n     * Applies values from form into REST resource\n     *\n     * @param values form values\n     * @param additionalValues additional form values\n     * @param serviceHours service hours\n     * @param channel channel\n     * @return modified channel\n     */\n    ElectronicServiceChannelAdapter.prototype.applyToChannel = function (values, additionalValues, serviceHours, channel) {\n        var _this = this;\n        var result = JSON.parse(JSON.stringify(channel));\n        result.names = [];\n        result.descriptions = [];\n        result.webPages = [];\n        result.attachments = [];\n        result.requiresSignature = false;\n        result.requiresAuthentication = false;\n        result.supportPhones = [];\n        result.supportEmails = [];\n        result.attachments = [];\n        result.serviceHours = this.serviceHoursFromForm(serviceHours);\n        this.getSupportedLocales().forEach(function (locale) {\n            var localeValues = values[locale];\n            result.publishingStatus = localeValues.publishingStatus || result.publishingStatus;\n            _this.setTypedLocalizedValue(result, 'names', localeValues, 'name', locale, 'Name');\n            _this.setTypedLocalizedValue(result, 'descriptions', localeValues, 'shortDescription', locale, 'Summary');\n            _this.setTypedLocalizedValue(result, 'descriptions', localeValues, 'description', locale, 'Description');\n            _this.setLocalizedTableValues(result, 'supportPhones', localeValues, 'supportPhones', locale, function (supportPhone) {\n                return !!supportPhone.number;\n            }, function (supportPhone) {\n                return Object.assign({}, supportPhone, {\n                    language: locale,\n                    isFinnishServiceNumber: \"true\" === supportPhone.isFinnishServiceNumber,\n                    type: \"Phone\"\n                });\n            });\n            _this.setLocalizedTableValues(result, 'supportEmails', localeValues, 'supportEmails', locale, function (supportEmail) {\n                return !!supportEmail.value;\n            });\n            _this.setLocalizedWebPages(result, 'webPages', localeValues, 'webPage', locale);\n            _this.setLocalizedTableValues(result, 'attachments', localeValues, 'attachments', locale, function (attachment) {\n                return !!attachment.url;\n            }, function (attachment) {\n                return Object.assign(attachment, {\n                    language: locale,\n                    type: 'Attachment'\n                });\n            });\n        });\n        result.areaType = additionalValues.areaType;\n        result.areas = this.areasFromForm(additionalValues.areaType, additionalValues.areas);\n        result.requiresAuthentication = this.getFormBooleanValue(additionalValues.requiresAuthentication, result.requiresAuthentication);\n        result.requiresSignature = this.getFormBooleanValue(additionalValues.requiresSignature, result.requiresSignature);\n        result.signatureQuantity = result.requiresSignature ? additionalValues.signatureQuantity || result.signatureQuantity : 1;\n        return result;\n    };\n    return ElectronicServiceChannelAdapter;\n}(_abstract_service_channel_adapter__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (ElectronicServiceChannelAdapter);\n\n\n//# sourceURL=webpack:///./src/adapters/electronic-service-channel-adapter.ts?");

/***/ }),

/***/ "./src/adapters/phone-service-channel-adapter.ts":
/*!*******************************************************!*\
  !*** ./src/adapters/phone-service-channel-adapter.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _abstract_service_channel_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract-service-channel-adapter */ \"./src/adapters/abstract-service-channel-adapter.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n/**\n * Adapter for transforming service data between form and REST forms\n */\nvar PhoneServiceChannelAdapter = /** @class */ (function (_super) {\n    __extends(PhoneServiceChannelAdapter, _super);\n    /**\n     * Constructor\n     */\n    function PhoneServiceChannelAdapter() {\n        return _super.call(this) || this;\n    }\n    /**\n     * Extracts form data from REST resource\n     *\n     * @param locale locale locale\n     * @param channel channel\n     * @returns form data\n     */\n    PhoneServiceChannelAdapter.prototype.channelToForm = function (locale, channel) {\n        return {\n            name: this.getTypedLocalizedValue(channel.names, locale, 'Name'),\n            shortDescription: this.getTypedLocalizedValue(channel.descriptions, locale, 'Summary'),\n            description: this.getTypedLocalizedValue(channel.descriptions, locale, 'Description'),\n            phoneNumbers: this.getLocalizedPhoneNumbers(channel.phoneNumbers, locale),\n            supportEmails: this.getLocalizedEmails(channel.supportEmails, locale),\n            languages: channel.languages,\n            webPages: this.getLocalizedValue(channel.webPages, locale, 'url'),\n            serviceHours: null,\n            publishingStatus: channel.publishingStatus\n        };\n    };\n    /**\n     * Extracts additional form data from REST resource\n     *\n     * @param channel channel\n     * @returns form data\n     */\n    PhoneServiceChannelAdapter.prototype.additionalToForm = function (channel) {\n        return {\n            languages: channel.languages.join(\",\"),\n            areas: this.getAreaIds(channel.areas || []).join(\",\"),\n            areaType: channel.areaType\n        };\n    };\n    /**\n     * Applies values from form into REST resource\n     *\n     * @param values form values\n     * @param additionalValues additional form values\n     * @param serviceHours service hours\n     * @param channel channel\n     * @return modified channel\n     */\n    PhoneServiceChannelAdapter.prototype.applyToChannel = function (values, additionalValues, serviceHours, channel) {\n        var _this = this;\n        var result = JSON.parse(JSON.stringify(channel));\n        result.names = [];\n        result.descriptions = [];\n        result.phoneNumbers = [];\n        result.supportEmails = [];\n        result.webPages = [];\n        result.serviceHours = this.serviceHoursFromForm(serviceHours);\n        this.getSupportedLocales().forEach(function (locale) {\n            var localeValues = values[locale];\n            result.publishingStatus = localeValues.publishingStatus || result.publishingStatus;\n            _this.setTypedLocalizedValue(result, 'names', localeValues, 'name', locale, 'Name');\n            _this.setTypedLocalizedValue(result, 'descriptions', localeValues, 'shortDescription', locale, 'Summary');\n            _this.setTypedLocalizedValue(result, 'descriptions', localeValues, 'description', locale, 'Description');\n            _this.setLocalizedTableValues(result, 'phoneNumbers', localeValues, 'phoneNumbers', locale, function (phoneNumber) {\n                return !!phoneNumber.number;\n            }, function (phoneNumber) {\n                return Object.assign({}, phoneNumber, {\n                    language: locale,\n                    isFinnishServiceNumber: \"true\" === phoneNumber.isFinnishServiceNumber\n                });\n            });\n            _this.setLocalizedTableValues(result, 'supportEmails', localeValues, 'supportEmails', locale, function (supportEmail) {\n                return !!supportEmail.value;\n            });\n            if (localeValues.webPages) {\n                result.webPages.push({\n                    url: localeValues.webPages,\n                    language: locale\n                });\n            }\n        });\n        result.areaType = additionalValues.areaType;\n        result.areas = this.areasFromForm(additionalValues.areaType, additionalValues.areas);\n        result.languages = additionalValues.languages.split(\",\");\n        return result;\n    };\n    return PhoneServiceChannelAdapter;\n}(_abstract_service_channel_adapter__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (PhoneServiceChannelAdapter);\n\n\n//# sourceURL=webpack:///./src/adapters/phone-service-channel-adapter.ts?");

/***/ }),

/***/ "./src/adapters/printable-form-service-channel-adapter.ts":
/*!****************************************************************!*\
  !*** ./src/adapters/printable-form-service-channel-adapter.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _abstract_service_channel_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract-service-channel-adapter */ \"./src/adapters/abstract-service-channel-adapter.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n/**\n * Adapter for transforming service data between form and REST forms\n */\nvar PrintableFormServiceChannelAdapter = /** @class */ (function (_super) {\n    __extends(PrintableFormServiceChannelAdapter, _super);\n    /**\n     * Constructor\n     */\n    function PrintableFormServiceChannelAdapter() {\n        return _super.call(this) || this;\n    }\n    /**\n     * Extracts form data from REST resource\n     *\n     * @param locale locale locale\n     * @param channel channel\n     * @returns form data\n     */\n    PrintableFormServiceChannelAdapter.prototype.channelToForm = function (locale, channel) {\n        var deliveryAddress = channel.deliveryAddress || {};\n        return {\n            name: this.getTypedLocalizedValue(channel.names, locale, 'Name'),\n            shortDescription: this.getTypedLocalizedValue(channel.descriptions, locale, 'Summary'),\n            description: this.getTypedLocalizedValue(channel.descriptions, locale, 'Description'),\n            formIdentifier: this.getLocalizedValue(channel.formIdentifier, locale),\n            formReceiver: this.getLocalizedValue(channel.formReceiver, locale),\n            addressType: deliveryAddress.subtype,\n            streetAddress: this.getLocalizedValue(deliveryAddress.streetAddress, locale),\n            postOfficeBox: this.getLocalizedValue(deliveryAddress.postOfficeBox, locale),\n            streetNumber: deliveryAddress.streetNumber,\n            postalCode: deliveryAddress.postalCode,\n            addressAdditionalInformation: this.getLocalizedValue(deliveryAddress.additionalInformations, locale),\n            addressAdditionalInformationNoAddress: this.getLocalizedValue(deliveryAddress.additionalInformations, locale),\n            channelUrls: this.getLocalizedValues(channel.channelUrls, locale),\n            attachments: (channel.attachments || []).filter(function (attachment) {\n                return attachment.url && attachment.language === locale;\n            }),\n            supportPhones: this.getLocalizedPhoneNumbers(channel.supportPhones, locale),\n            supportEmails: this.getLocalizedEmails(channel.supportEmails, locale),\n            publishingStatus: channel.publishingStatus\n        };\n    };\n    /**\n     * Extracts additional form data from REST resource\n     *\n     * @param channel channel\n     * @returns form data\n     */\n    PrintableFormServiceChannelAdapter.prototype.additionalToForm = function (channel) {\n        return {\n            areas: this.getAreaIds(channel.areas || []).join(\",\"),\n            areaType: channel.areaType\n        };\n    };\n    /**\n     * Applies values from form into REST resource\n     *\n     * @param values form values\n     * @param additionalValues additional form values\n     * @param serviceHours service hours\n     * @param channel channel\n     * @return modified channel\n     */\n    PrintableFormServiceChannelAdapter.prototype.applyToChannel = function (values, additionalValues, serviceHours, channel) {\n        var _this = this;\n        var result = JSON.parse(JSON.stringify(channel));\n        result.names = [];\n        result.descriptions = [];\n        result.formIdentifier = [];\n        result.formReceiver = [];\n        result.channelUrls = [];\n        result.deliveryAddress = {};\n        result.supportPhones = [];\n        result.attachments = [];\n        result.serviceHours = this.serviceHoursFromForm(serviceHours);\n        this.getSupportedLocales().forEach(function (locale) {\n            var localeValues = values[locale];\n            result.publishingStatus = localeValues.publishingStatus || result.publishingStatus;\n            _this.setTypedLocalizedValue(result, 'names', localeValues, 'name', locale, 'Name');\n            _this.setTypedLocalizedValue(result, 'descriptions', localeValues, 'shortDescription', locale, 'Summary');\n            _this.setTypedLocalizedValue(result, 'descriptions', localeValues, 'description', locale, 'Description');\n            _this.setLocalizedValue(result, 'formIdentifier', localeValues, 'formIdentifier', locale);\n            _this.setLocalizedValue(result, 'formReceiver', localeValues, 'formReceiver', locale);\n            _this.setLocalizedTableValues(result, 'supportPhones', localeValues, 'supportPhones', locale, function (supportPhone) {\n                return !!supportPhone.number;\n            }, function (supportPhone) {\n                return Object.assign({}, supportPhone, {\n                    language: locale,\n                    isFinnishServiceNumber: \"true\" === supportPhone.isFinnishServiceNumber,\n                    type: \"Phone\"\n                });\n            });\n            _this.setLocalizedTableValues(result, 'supportEmails', localeValues, 'supportEmails', locale, function (supportEmail) {\n                return !!supportEmail.value;\n            });\n            _this.setLocalizedTableValues(result, 'attachments', localeValues, 'attachments', locale, function (attachment) {\n                return !!attachment.url;\n            }, function (attachment) {\n                return Object.assign(attachment, {\n                    language: locale,\n                    type: 'Attachment'\n                });\n            });\n            if (localeValues.webPages) {\n                result.webPages.push({\n                    url: localeValues.webPages,\n                    language: locale\n                });\n            }\n            _this.setLocalizedTableValues(result, 'channelUrls', localeValues, 'channelUrls', locale, function (channelUrl) {\n                return !!channelUrl.value;\n            }, function (channelUrl) {\n                return Object.assign(channelUrl, {\n                    language: locale\n                });\n            });\n            var addressType = localeValues.addressType;\n            if (!result.deliveryAddress.subtype) {\n                result.deliveryAddress.subtype = addressType;\n                result.deliveryAddress.streetNumber = localeValues.streetNumber || result.deliveryAddress.streetNumber;\n                result.deliveryAddress.postalCode = localeValues.postalCode || result.deliveryAddress.postalCode;\n            }\n            _this.setLocalizedValue(result.deliveryAddress, 'streetAddress', localeValues, 'streetAddress', locale);\n            _this.setLocalizedValue(result.deliveryAddress, 'postOfficeBox', localeValues, 'postOfficeBox', locale);\n            _this.setLocalizedValue(result.deliveryAddress, 'additionalInformations', localeValues, addressType === 'NoAddress' ? 'addressAdditionalInformationNoAddress' : 'addressAdditionalInformation', locale);\n        });\n        result.areaType = additionalValues.areaType;\n        result.areas = this.areasFromForm(additionalValues.areaType, additionalValues.areas);\n        return result;\n    };\n    return PrintableFormServiceChannelAdapter;\n}(_abstract_service_channel_adapter__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (PrintableFormServiceChannelAdapter);\n\n\n//# sourceURL=webpack:///./src/adapters/printable-form-service-channel-adapter.ts?");

/***/ }),

/***/ "./src/adapters/service-adapter.ts":
/*!*****************************************!*\
  !*** ./src/adapters/service-adapter.ts ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _abstract_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract-adapter */ \"./src/adapters/abstract-adapter.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n/**\n * Adapter for transforming service data between form and REST forms\n */\nvar ServiceAdapter = /** @class */ (function (_super) {\n    __extends(ServiceAdapter, _super);\n    /**\n     * Constructor\n     */\n    function ServiceAdapter() {\n        return _super.call(this) || this;\n    }\n    /**\n     * Applies form values into service and returns altered copy. Does not alter original service\n     *\n     * @param formValues form values\n     * @param additionalValues additional values\n     * @param channelIds service channel ids\n     * @param service service\n     */\n    ServiceAdapter.prototype.applyToService = function (formValues, additionalValues, channelIds, service) {\n        var _this = this;\n        var result = JSON.parse(JSON.stringify(service));\n        result.names = [];\n        result.descriptions = [];\n        result.vouchers = [];\n        result.legislation = [];\n        this.getSupportedLocales().forEach(function (locale) {\n            var localeValues = formValues[locale];\n            var legistationValues = Array.isArray(localeValues.legislation) ? localeValues.legislation : localeValues.legislation ? JSON.parse(localeValues.legislation) : [];\n            result.type = localeValues.type || result.type;\n            result.chargeType = localeValues.serviceChargeType || result.chargeType;\n            result.fundingType = localeValues.fundingType || result.fundingType;\n            _this.setTypedLocalizedValue(result, 'names', localeValues, 'name', locale, 'Name');\n            _this.setTypedLocalizedValue(result, 'names', localeValues, 'alternateName', locale, 'AlternativeName');\n            _this.setTypedLocalizedValue(result, 'descriptions', localeValues, 'shortDescription', locale, 'Summary');\n            _this.setTypedLocalizedValue(result, 'descriptions', localeValues, 'description', locale, 'Description');\n            _this.setTypedLocalizedValue(result, 'descriptions', localeValues, 'chargeTypeAdditionalInfo', locale, 'ChargeTypeAdditionalInfo');\n            _this.setTypedLocalizedValue(result, 'descriptions', localeValues, 'userInstruction', locale, 'UserInstruction');\n            _this.setTypedLocalizedValue(result, 'descriptions', localeValues, 'deadLineAdditionalInfo', locale, 'DeadLine');\n            _this.setTypedLocalizedValue(result, 'descriptions', localeValues, 'processingTimeAdditionalInfo', locale, 'ProcessingTime');\n            _this.setTypedLocalizedValue(result, 'descriptions', localeValues, 'validityTimeAdditionalInfo', locale, 'ValidityTime');\n            _this.setLocalizedValue(result, 'requirements', localeValues, 'requirements', locale);\n            _this.setLocalizedTableValues(result, 'vouchers', localeValues, 'serviceVouchers', locale, function (voucher) {\n                return voucher.value && voucher.url;\n            });\n            result.legislation = result.legislation.concat(legistationValues\n                .filter(function (legislation) {\n                return legislation.name && legislation.webPage;\n            })\n                .map(function (legislation) {\n                return {\n                    names: [{\n                            language: locale,\n                            value: legislation.name\n                        }],\n                    webPages: [{\n                            url: legislation.webPage,\n                            type: \"url\",\n                            language: locale\n                        }]\n                };\n            }));\n        });\n        result.areaType = additionalValues.areaType;\n        result.languages = (additionalValues.languages || '').split(',');\n        result.areas = this.areasFromForm(additionalValues.areaType, additionalValues.areas);\n        result.organizations = result.organizations.filter(function (serviceOrganization) {\n            return serviceOrganization.roleType === 'Responsible';\n        });\n        var responsibleOrganizationId = result.organizations\n            .filter(function (serviceOrganization) {\n            return serviceOrganization.roleType === 'Responsible' && serviceOrganization.organizationId;\n        })\n            .map(function (serviceOrganization) {\n            return serviceOrganization.organizationId;\n        })[0];\n        if (responsibleOrganizationId && additionalValues.serviceProducersSelfProduced) {\n            result.organizations.push({\n                provisionType: 'SelfProducedServices',\n                roleType: 'Producer',\n                organizationId: responsibleOrganizationId\n            });\n        }\n        var formProducersPurchaseServices = (additionalValues.serviceProducersPurchaseServices || '').split(',');\n        var formProducersOthers = (additionalValues.serviceProducersOthers || '').split(',');\n        formProducersPurchaseServices.forEach(function (organizationId) {\n            result.organizations.push({\n                provisionType: 'ProcuredServices',\n                roleType: 'Producer',\n                organizationId: organizationId\n            });\n        });\n        formProducersOthers.forEach(function (organizationId) {\n            result.organizations.push({\n                provisionType: 'Other',\n                roleType: 'Producer',\n                organizationId: organizationId\n            });\n        });\n        result.electronicServiceChannelIds = channelIds.electronic;\n        result.phoneServiceChannelIds = channelIds.phone;\n        result.printableFormServiceChannelIds = channelIds.printableForm;\n        result.serviceLocationServiceChannelIds = channelIds.serviceLocation;\n        result.webPageServiceChannelIds = channelIds.webpage;\n        return result;\n    };\n    /**\n     * Extracts service form data from REST service\n     *\n     * @param locale locale locale\n     * @param service service service\n     * @returns service form data\n     */\n    ServiceAdapter.prototype.serviceToForm = function (locale, service) {\n        var _this = this;\n        var type = service.type;\n        var chargeType = service.chargeType;\n        var fundingType = service.fundingType;\n        var name = this.getTypedLocalizedValue(service.names, locale, 'Name');\n        var alternateName = this.getTypedLocalizedValue(service.names, locale, 'AlternateName');\n        var shortDescription = this.getTypedLocalizedValue(service.descriptions, locale, 'Summary');\n        var description = this.getTypedLocalizedValue(service.descriptions, locale, 'Description');\n        var chargeTypeAdditionalInfo = this.getTypedLocalizedValue(service.descriptions, locale, 'ChargeTypeAdditionalInfo');\n        var userInstruction = this.getTypedLocalizedValue(service.descriptions, locale, 'UserInstruction');\n        var deadLineAdditionalInfo = this.getTypedLocalizedValue(service.descriptions, locale, 'DeadLine');\n        var processingTimeAdditionalInfo = this.getTypedLocalizedValue(service.descriptions, locale, 'ProcessingTime');\n        var validityTimeAdditionalInfo = this.getTypedLocalizedValue(service.descriptions, locale, 'ValidityTime');\n        var requirements = this.getLocalizedValue(service.requirements, locale);\n        var vouchers = (service.vouchers || []).filter(function (voucher) {\n            return voucher.value && voucher.language === locale;\n        });\n        var legislation = (service.legislation || [])\n            .map(function (legistation) {\n            return {\n                name: _this.getLocalizedValue(legistation.names, locale),\n                webPage: _this.getLocalizedValue(legistation.webPages, locale, 'url')\n            };\n        })\n            .filter(function (legistation) {\n            return legistation.name && legistation.webPage;\n        });\n        return {\n            type: type,\n            serviceChargeType: chargeType,\n            fundingType: fundingType,\n            name: name,\n            alternateName: alternateName,\n            shortDescription: shortDescription,\n            description: description,\n            chargeTypeAdditionalInfo: chargeTypeAdditionalInfo,\n            userInstruction: userInstruction,\n            deadLineAdditionalInfo: deadLineAdditionalInfo,\n            processingTimeAdditionalInfo: processingTimeAdditionalInfo,\n            validityTimeAdditionalInfo: validityTimeAdditionalInfo,\n            requirements: requirements,\n            serviceVouchersInUse: vouchers.length > 0 ? 'true' : 'false',\n            serviceVouchers: vouchers,\n            legislation: legislation\n        };\n    };\n    /**\n     * Extracts service additional form data from REST service\n     *\n     * @param service service service\n     * @returns service additional form data\n     */\n    ServiceAdapter.prototype.serviceAdditinalToForm = function (service) {\n        var result = {\n            languages: (service.languages || []).join(\",\"),\n            areas: this.getAreaIds(service.areas || []).join(\",\"),\n            areaType: service.areaType,\n            serviceProducersSelfProduced: (service.organizations || []).filter(function (serviceOrganization) {\n                return serviceOrganization.roleType === \"Producer\" && serviceOrganization.provisionType === \"SelfProducedServices\";\n            }).length > 0,\n            serviceProducersPurchaseServices: this.getServiceProducerOrganizationIds(service, \"ProcuredServices\").join(\",\"),\n            serviceProducersOthers: this.getServiceProducerOrganizationIds(service, \"Other\").join(\",\")\n        };\n        return result;\n    };\n    /**\n     * Returns service producer organization ids by provision type\n     *\n     * @param service service\n     * @param provisionType provision type\n     */\n    ServiceAdapter.prototype.getServiceProducerOrganizationIds = function (service, provisionType) {\n        var serviceOrganizations = service.organizations || [];\n        return serviceOrganizations\n            .filter(function (serviceOrganization) {\n            return serviceOrganization.organizationId && serviceOrganization.roleType === \"Producer\" && serviceOrganization.provisionType === provisionType;\n        })\n            .map(function (serviceOrganization) {\n            return serviceOrganization.organizationId;\n        });\n    };\n    return ServiceAdapter;\n}(_abstract_adapter__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (ServiceAdapter);\n\n\n//# sourceURL=webpack:///./src/adapters/service-adapter.ts?");

/***/ }),

/***/ "./src/adapters/service-location-service-channel-adapter.ts":
/*!******************************************************************!*\
  !*** ./src/adapters/service-location-service-channel-adapter.ts ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _abstract_service_channel_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract-service-channel-adapter */ \"./src/adapters/abstract-service-channel-adapter.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n/**\n * Adapter for transforming service data between form and REST forms\n */\nvar ServiceLocationServiceChannelAdapter = /** @class */ (function (_super) {\n    __extends(ServiceLocationServiceChannelAdapter, _super);\n    /**\n     * Constructor\n     */\n    function ServiceLocationServiceChannelAdapter() {\n        return _super.call(this) || this;\n    }\n    /**\n     * Extracts form data from REST resource\n     *\n     * @param locale locale locale\n     * @param channel channel\n     * @returns form data\n     */\n    ServiceLocationServiceChannelAdapter.prototype.channelToForm = function (locale, channel) {\n        var _this = this;\n        var name = this.getTypedLocalizedValue(channel.names, locale, 'Name');\n        var shortDescription = this.getTypedLocalizedValue(channel.descriptions, locale, 'Summary');\n        var description = this.getTypedLocalizedValue(channel.descriptions, locale, 'Description');\n        var visitAddresses = channel.addresses.filter(function (address) {\n            return address.subtype !== 'Abroad';\n        });\n        var foreignAddresses = channel.addresses.filter(function (address) {\n            return address.subtype === 'Abroad';\n        });\n        var addresses = visitAddresses.map(function (address) {\n            return {\n                street: _this.getLocalizedValue(address.streetAddress, locale),\n                streetNumber: address.streetNumber,\n                postOfficeCode: address.postalCode,\n                additionalInformation: _this.getLocalizedValue(address.additionalInformations, locale)\n            };\n        });\n        return {\n            name: name,\n            description: description,\n            shortDescription: shortDescription,\n            addresses: addresses,\n            emails: this.getLocalizedEmails(channel.emails, locale),\n            phoneNumbers: this.getLocalizedPhoneNumbers(channel.phoneNumbers, locale, \"Phone\"),\n            faxes: this.getLocalizedPhoneNumbers(channel.phoneNumbers, locale, \"Fax\"),\n            foreignAddresses: foreignAddresses.map(function (foreignAddress) {\n                return {\n                    foreign: _this.getLocalizedValue(foreignAddress.locationAbroad, locale)\n                };\n            }),\n            webPages: this.getLocalizedWebPages(channel.webPages, locale)\n        };\n    };\n    /**\n     * Extracts additional form data from REST resource\n     *\n     * @param channel channel\n     * @returns form data\n     */\n    ServiceLocationServiceChannelAdapter.prototype.additionalToForm = function (channel) {\n        return {\n            languages: channel.languages.join(\",\"),\n            areas: this.getAreaIds(channel.areas || []).join(\",\"),\n            areaType: channel.areaType\n        };\n    };\n    /**\n     * Applies values from form into REST resource\n     *\n     * @param values form values\n     * @param additionalValues additional form values\n     * @param serviceHours service hours\n     * @param channel channel\n     * @return modified channel\n     */\n    ServiceLocationServiceChannelAdapter.prototype.applyToChannel = function (values, additionalValues, serviceHours, channel) {\n        var _this = this;\n        var result = JSON.parse(JSON.stringify(channel));\n        result.addresses = [];\n        result.descriptions = [];\n        result.emails = [];\n        result.phoneNumbers = [];\n        result.webPages = [];\n        result.serviceHours = this.serviceHoursFromForm(serviceHours);\n        this.getSupportedLocales().forEach(function (locale) {\n            var localeValues = values[locale];\n            _this.setTypedLocalizedValue(result, 'names', localeValues, 'name', locale, 'Name');\n            _this.setTypedLocalizedValue(result, 'descriptions', localeValues, 'shortDescription', locale, 'Summary');\n            _this.setTypedLocalizedValue(result, 'descriptions', localeValues, 'description', locale, 'Description');\n            var localeAddresses = _this.getFormArray(localeValues, \"addresses\").filter(function (address) {\n                return !!address.street && !!address.street.trim();\n            });\n            localeAddresses.forEach(function (localeAddress, addressIndex) {\n                var address;\n                if (result.addresses.length - 1 < addressIndex) {\n                    address = {\n                        additionalInformations: [],\n                        streetAddress: [],\n                        subtype: 'Single',\n                        type: 'Location',\n                        country: 'FI'\n                    };\n                    result.addresses.push(address);\n                }\n                else {\n                    address = result.addresses[addressIndex];\n                }\n                if (localeAddress.additionalInformation) {\n                    localeAddress.additionalInformation = localeAddress.additionalInformation.trim();\n                }\n                if (localeAddress.additionalInformation) {\n                    address.additionalInformations.push({\n                        \"language\": locale,\n                        \"value\": localeAddress.additionalInformation\n                    });\n                }\n                address.streetAddress.push({\n                    \"language\": locale,\n                    \"value\": localeAddress.street\n                });\n                address.postalCode = localeAddress.postOfficeCode;\n                address.streetNumber = localeAddress.streetNumber;\n            });\n            var foreignAddresses = _this.getFormArray(localeValues, \"foreignAddresses\").filter(function (address) {\n                return !!address.foreign;\n            });\n            foreignAddresses.forEach(function (foreignAddress, foreignAddressIndex) {\n                var addressIndex = localeAddresses.length + foreignAddressIndex;\n                var address;\n                if (result.addresses.length - 1 < addressIndex) {\n                    address = {\n                        subtype: 'Abroad',\n                        type: 'Location',\n                        locationAbroad: []\n                    };\n                    result.addresses.push(address);\n                }\n                else {\n                    address = result.addresses[addressIndex];\n                }\n                address.locationAbroad.push({\n                    \"language\": locale,\n                    \"value\": foreignAddress.foreign\n                });\n            });\n            _this.setLocalizedTableValues(result, 'emails', localeValues, 'emails', locale, function (email) {\n                return !!email.value;\n            });\n            _this.setLocalizedTableValues(result, 'phoneNumbers', localeValues, 'phoneNumbers', locale, function (phoneNumber) {\n                return phoneNumber.prefixNumber || phoneNumber.number;\n            }, function (phoneNumber) {\n                return Object.assign(phoneNumber, {\n                    \"type\": \"Phone\",\n                    \"language\": locale,\n                    \"isFinnishServiceNumber\": phoneNumber.isFinnishServiceNumber === \"true\"\n                });\n            });\n            _this.setLocalizedTableValues(result, 'phoneNumbers', localeValues, 'faxes', locale, function (phoneNumber) {\n                return phoneNumber.prefixNumber || phoneNumber.number;\n            }, function (phoneNumber) {\n                return Object.assign(phoneNumber, {\n                    \"type\": \"Fax\",\n                    \"language\": locale,\n                    \"number\": phoneNumber.number,\n                    \"prefixNumber\": phoneNumber.prefixNumber,\n                    \"isFinnishServiceNumber\": false\n                });\n            });\n            result.webPages = result.webPages.concat(_this.getFormArray(localeValues, \"webPages\")\n                .filter(function (webPage) {\n                return !!webPage.url;\n            })\n                .map(function (webPage) {\n                return Object.assign(webPage, {\n                    \"language\": locale\n                });\n            }));\n        });\n        result.areaType = additionalValues.areaType;\n        result.areas = this.areasFromForm(additionalValues.areaType, additionalValues.areas);\n        result.languages = additionalValues.languages.split(\",\");\n        return result;\n    };\n    return ServiceLocationServiceChannelAdapter;\n}(_abstract_service_channel_adapter__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (ServiceLocationServiceChannelAdapter);\n\n\n//# sourceURL=webpack:///./src/adapters/service-location-service-channel-adapter.ts?");

/***/ }),

/***/ "./src/adapters/webpage-service-channel-adapter.ts":
/*!*********************************************************!*\
  !*** ./src/adapters/webpage-service-channel-adapter.ts ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _abstract_service_channel_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract-service-channel-adapter */ \"./src/adapters/abstract-service-channel-adapter.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n/**\n * Adapter for transforming service data between form and REST forms\n */\nvar WebPageServiceChannelAdapter = /** @class */ (function (_super) {\n    __extends(WebPageServiceChannelAdapter, _super);\n    /**\n     * Constructor\n     */\n    function WebPageServiceChannelAdapter() {\n        return _super.call(this) || this;\n    }\n    /**\n     * Extracts form data from REST resource\n     *\n     * @param locale locale locale\n     * @param channel channel\n     * @returns form data\n     */\n    WebPageServiceChannelAdapter.prototype.channelToForm = function (locale, channel) {\n        return {\n            name: this.getTypedLocalizedValue(channel.names, locale, 'Name'),\n            shortDescription: this.getTypedLocalizedValue(channel.descriptions, locale, 'Summary'),\n            description: this.getTypedLocalizedValue(channel.descriptions, locale, 'Description'),\n            supportPhones: this.getLocalizedPhoneNumbers(channel.supportPhones, locale),\n            supportEmails: this.getLocalizedEmails(channel.supportEmails, locale),\n            webPage: this.getLocalizedWebPageUrl(channel.webPages, locale),\n            languages: channel.languages,\n            publishingStatus: channel.publishingStatus\n        };\n    };\n    /**\n     * Extracts additional form data from REST resource\n     *\n     * @param channel channel\n     * @returns form data\n     */\n    WebPageServiceChannelAdapter.prototype.additionalToForm = function (channel) {\n        return {\n            languages: channel.languages.join(\",\")\n        };\n    };\n    /**\n     * Applies values from form into REST resource\n     *\n     * @param values form values\n     * @param additionalValues additional form values\n     * @param serviceHours service hours\n     * @param channel channel\n     * @return modified channel\n     */\n    WebPageServiceChannelAdapter.prototype.applyToChannel = function (values, additionalValues, serviceHours, channel) {\n        var _this = this;\n        var result = JSON.parse(JSON.stringify(channel));\n        result.names = [];\n        result.descriptions = [];\n        result.webPages = [];\n        result.supportPhones = [];\n        result.supportEmails = [];\n        this.getSupportedLocales().forEach(function (locale) {\n            var localeValues = values[locale];\n            result.publishingStatus = localeValues.publishingStatus || result.publishingStatus;\n            _this.setTypedLocalizedValue(result, 'names', localeValues, 'name', locale, 'Name');\n            _this.setTypedLocalizedValue(result, 'descriptions', localeValues, 'shortDescription', locale, 'Summary');\n            _this.setTypedLocalizedValue(result, 'descriptions', localeValues, 'description', locale, 'Description');\n            _this.setLocalizedTableValues(result, 'supportPhones', localeValues, 'supportPhones', locale, function (supportPhone) {\n                return !!supportPhone.number;\n            }, function (supportPhone) {\n                return Object.assign({}, supportPhone, {\n                    language: locale,\n                    isFinnishServiceNumber: \"true\" === supportPhone.isFinnishServiceNumber,\n                    type: \"Phone\"\n                });\n            });\n            _this.setLocalizedTableValues(result, 'supportEmails', localeValues, 'supportEmails', locale, function (supportEmail) {\n                return !!supportEmail.value;\n            });\n            _this.setLocalizedWebPages(result, 'webPages', localeValues, 'webPage', locale);\n        });\n        result.languages = additionalValues.languages.split(\",\");\n        return result;\n    };\n    return WebPageServiceChannelAdapter;\n}(_abstract_service_channel_adapter__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (WebPageServiceChannelAdapter);\n\n\n//# sourceURL=webpack:///./src/adapters/webpage-service-channel-adapter.ts?");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./store */ \"./src/store.tsx\");\n/* harmony import */ var _service_block__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./service-block */ \"./src/service-block.tsx\");\n/* harmony import */ var _service_location_service_channel_block__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./service-location-service-channel-block */ \"./src/service-location-service-channel-block.tsx\");\n\n\n\n\n\n//# sourceURL=webpack:///./src/index.ts?");

/***/ }),

/***/ "./src/metaform-modal.tsx":
/*!********************************!*\
  !*** ./src/metaform-modal.tsx ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _metaform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./metaform */ \"./src/metaform.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar __ = wp.i18n.__;\n/**\n * Metaform modal component\n */\nvar MetaformModal = /** @class */ (function (_super) {\n    __extends(MetaformModal, _super);\n    /**\n     * Constructor\n     *\n     * @param props props\n     */\n    function MetaformModal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            formValid: false\n        };\n        return _this;\n    }\n    /**\n     * Component render method\n     *\n     * @return {JSX.Element[]} dialog\n     */\n    MetaformModal.prototype.render = function () {\n        var _this = this;\n        if (!this.props.open) {\n            return null;\n        }\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Modal, { shouldCloseOnClickOutside: false, style: { minWidth: \"60%\" }, title: this.props.title, onRequestClose: function () { _this.props.onClose(); } }, this.renderContent()));\n    };\n    /**\n     * Renders contents\n     *\n     * @return {JSX.Element[]} contents\n     */\n    MetaformModal.prototype.renderContent = function () {\n        var _this = this;\n        if (!this.props.values) {\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Placeholder, { style: { height: \"300px\" } },\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Spinner, null)));\n        }\n        if (this.props.saveError) {\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Notice, { status: \"error\", isDismissible: false },\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null,\n                    \"An error occurred: \",\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"code\", null, this.props.saveError),\n                    \".\")));\n        }\n        if (this.props.saving) {\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Placeholder, { style: { height: \"300px\" } },\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Spinner, null)));\n        }\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { position: \"relative\" } },\n            !this.props.locales ? null : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { whiteSpace: \"nowrap\", position: \"absolute\", top: \"0px\", paddingTop: \"10px\", paddingBottom: \"5px\", width: \"150px\", right: \"0px\", height: \"25px\", background: \"#fff\", textAlign: \"right\", zIndex: 1 } }, this.renderLocales()),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_metaform__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { title: this.props.title, form: this.props.form, values: this.props.values, valid: this.state.formValid, onValidityChage: function (valid) { _this.onValidityChage(valid); }, onValuesChange: function (values) { _this.onValuesChange(values); }, afterFormRender: this.props.afterFormRender }),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { position: \"absolute\", bottom: \"0px\", left: \"0px\", right: \"0px\", height: \"25px\", paddingTop: \"5px\", background: \"#fff\", zIndex: 1 } },\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", { disabled: !this.state.formValid, onClick: function () { _this.props.onSave(); } },\n                    \" \",\n                    this.props.saveButtonText,\n                    \"\\u00A0\"),\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", { style: { marginLeft: \"3px\" }, onClick: function () { _this.props.onClose(); } },\n                    \" \",\n                    __(\"Cancel\", \"kunta_api_core\"),\n                    \"\\u00A0\"))));\n    };\n    /**\n     * Renders locale change buttons\n     *\n     * @return {JSX.Element[]} locale buttons\n     */\n    MetaformModal.prototype.renderLocales = function () {\n        var _this = this;\n        return this.props.locales.map(function (locale) {\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"button\", { style: { marginLeft: \"3px\" }, onClick: function () { _this.props.onLocaleChange(locale); } },\n                \" \",\n                locale,\n                \"\\u00A0\");\n        });\n    };\n    /**\n     * Event handler for form validity change\n     *\n     * @param valid is form valid\n     */\n    MetaformModal.prototype.onValidityChage = function (valid) {\n        this.setState({\n            formValid: valid\n        });\n    };\n    /**\n     * Event triggered when form values change\n     *\n     * @param values values\n     */\n    MetaformModal.prototype.onValuesChange = function (values) {\n        if (this.props.onValuesChange) {\n            this.props.onValuesChange(this.props.locale, values);\n        }\n    };\n    return MetaformModal;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component));\n/* harmony default export */ __webpack_exports__[\"default\"] = (MetaformModal);\n\n\n//# sourceURL=webpack:///./src/metaform-modal.tsx?");

/***/ }),

/***/ "./src/metaform.tsx":
/*!**************************!*\
  !*** ./src/metaform.tsx ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\nvar __ = wp.i18n.__;\nvar metaformsUrl = kuntaApiBlocks.metaformsUrl;\n/**\n * Metaform modal component\n */\nvar Metaform = /** @class */ (function (_super) {\n    __extends(Metaform, _super);\n    /**\n     * Constructor\n     *\n     * @param props props\n     */\n    function Metaform(props) {\n        var _this = _super.call(this, props) || this;\n        _this.$metaform = null;\n        _this.state = {\n            json: null\n        };\n        return _this;\n    }\n    /**\n     * Component will mount life-cycle event\n     */\n    Metaform.prototype.componentWillMount = function () {\n        var _this = this;\n        this.loadForm().then(function (json) {\n            _this.setState({\n                json: json\n            });\n        });\n    };\n    /**\n     * Component did update life-cycle event\n     *\n     * @param prevProps previous props\n     * @param prevState previous state\n     */\n    Metaform.prototype.componentDidUpdate = function (prevProps, prevState) {\n        return __awaiter(this, void 0, void 0, function () {\n            var formChanged, valueChanged;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        formChanged = JSON.stringify(this.state.json) !== JSON.stringify(prevState.json);\n                        valueChanged = this.props.values !== prevProps.values;\n                        if (!(formChanged || valueChanged)) return [3 /*break*/, 2];\n                        this.destroyForm();\n                        this.$metaform = jQuery(this.refs.el).find('form.metaform')\n                            .metaform()\n                            .css({\n                            paddingBottom: \"20px\"\n                        })\n                            .on(\"change\", \"input,select,textarea\", this.onMetaformChange.bind(this));\n                        if (!this.props.afterFormRender) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.props.afterFormRender(this, this.$metaform)];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        this.checkValidity();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Component will unmount life-cycle event\n     */\n    Metaform.prototype.componentWillUnmount = function () {\n        this.destroyForm();\n    };\n    /**\n     * Component render method\n     *\n     * @return {JSX.Element[]} dialog\n     */\n    Metaform.prototype.render = function () {\n        if (!this.state.json || !this.props.values) {\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Placeholder, { style: { height: \"300px\" } },\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Spinner, null)));\n        }\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { ref: \"el\", style: { maxHeight: \"calc(80vh - 120px)\", overflow: \"scroll\", marginTop: \"-10px\", marginLeft: \"0px\", marginRight: \"0px\", marginBottom: \"0px\" } },\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { dangerouslySetInnerHTML: { __html: this.renderForm() } })));\n    };\n    /**\n     * Trigger value change\n     */\n    Metaform.prototype.triggerChange = function () {\n        this.checkValidity();\n        this.props.onValuesChange(this.getValues());\n    };\n    /**\n     * Checks whether form is valid or not\n     */\n    Metaform.prototype.checkValidity = function () {\n        if (this.props.onValidityChage) {\n            var isValid = this.$metaform[0].checkValidity();\n            if (isValid !== this.props.valid) {\n                this.props.onValidityChage(isValid);\n            }\n        }\n    };\n    /**\n     * Destroys form component\n     */\n    Metaform.prototype.destroyForm = function () {\n        if (this.$metaform) {\n            this.$metaform.metaform('destroy');\n        }\n    };\n    /**\n     * Renders form as HTML string\n     *\n     * @return {string} form as HTML string\n     */\n    Metaform.prototype.renderForm = function () {\n        return mfRender({\n            viewModel: this.state.json,\n            formValues: this.props.values\n        });\n    };\n    /**\n     * Returns Metaform values\n     *\n     * @return {Object} values\n     */\n    Metaform.prototype.getValues = function () {\n        var formValues = {};\n        this.$metaform.metaform('val', true).forEach(function (value) {\n            formValues[value.name] = value.value;\n        });\n        return formValues;\n    };\n    /**\n     * Event that is triggered when Metaform input changes\n     *\n     * @param event event\n     */\n    Metaform.prototype.onMetaformChange = function (event) {\n        this.triggerChange();\n    };\n    /**\n     * Loads Metaform JSON\n     *\n     * @return {Promise<any>} promise for Metaform JSON\n     */\n    Metaform.prototype.loadForm = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var apiFetch;\n            return __generator(this, function (_a) {\n                apiFetch = wp.apiFetch;\n                return [2 /*return*/, apiFetch({ url: metaformsUrl + \"/\" + this.props.form + \".json\" })];\n            });\n        });\n    };\n    return Metaform;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Metaform);\n\n\n//# sourceURL=webpack:///./src/metaform.tsx?");

/***/ }),

/***/ "./src/search-input.tsx":
/*!******************************!*\
  !*** ./src/search-input.tsx ***!
  \******************************/
/*! exports provided: SearchInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SearchInput\", function() { return SearchInput; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar __ = wp.i18n.__;\n/**\n * Search input component\n */\nvar SearchInput = /** @class */ (function (_super) {\n    __extends(SearchInput, _super);\n    /**\n     * Constructor\n     *\n     * @param props props\n     */\n    function SearchInput(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * Event handler for handling use input changes\n         *\n         * @param event event\n         */\n        _this.onInputChange = function (event) {\n            var apiFetch = wp.apiFetch;\n            var value = event.currentTarget.value;\n            if (_this.state.searching || value.length < 3) {\n                return;\n            }\n            var body = new URLSearchParams();\n            body.append(\"action\", _this.props.searchAction);\n            body.append(\"search\", _utils__WEBPACK_IMPORTED_MODULE_1__[\"default\"].splitSearchTerms(value));\n            _this.setState({ searching: true });\n            apiFetch({ url: ajaxurl, method: \"POST\", body: body }).then(function (result) {\n                _this.setState({ searching: false, entities: result });\n            });\n        };\n        _this.state = {\n            entities: [],\n            searching: false,\n            hoverIndex: -1\n        };\n        return _this;\n    }\n    /**\n     * Component render method\n     */\n    SearchInput.prototype.render = function () {\n        var _this = this;\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: this.props.style },\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.BaseControl, { style: { width: \"100%\" }, id: \"search\", label: this.props.inputLabel, help: this.props.inputHelp },\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"input\", { id: \"search\", style: { width: \"100%\" }, onChange: this.onInputChange })),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { height: \"300px\", overflowY: \"auto\" } }, this.state.searching ? (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Placeholder, { style: { height: \"300px\" } },\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Spinner, null))) : this.state.entities.map(function (entity, index) {\n                return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { onMouseOver: function () { return _this.setState({ hoverIndex: index }); }, onClick: function () { return _this.props.onSelect(entity); }, style: { fontWeight: _this.state.hoverIndex == index ? \"bold\" : \"normal\", cursor: \"pointer\", paddingTop: \"5px\", paddingBottom: \"5px\" }, key: entity.id }, _this.props.getDisplayName(entity));\n            }))));\n    };\n    return SearchInput;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component));\n\n\n\n//# sourceURL=webpack:///./src/search-input.tsx?");

/***/ }),

/***/ "./src/search-modal.tsx":
/*!******************************!*\
  !*** ./src/search-modal.tsx ***!
  \******************************/
/*! exports provided: SearchModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SearchModal\", function() { return SearchModal; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _search_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./search-input */ \"./src/search-input.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar __ = wp.i18n.__;\n/**\n * Search modal component\n */\nvar SearchModal = /** @class */ (function (_super) {\n    __extends(SearchModal, _super);\n    /**\n     * Constructor\n     *\n     * @param props props\n     */\n    function SearchModal(props) {\n        return _super.call(this, props) || this;\n    }\n    /**\n     * Event handler for handling search input select\n     *\n     * @param data selected data\n     */\n    SearchModal.prototype.onSelect = function (data) {\n        this.props.onSelect(data);\n    };\n    /**\n     * Component render method\n     */\n    SearchModal.prototype.render = function () {\n        var _this = this;\n        if (!this.props.open) {\n            return null;\n        }\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Modal, { style: { minWidth: \"60%\" }, title: this.props.modalTitle, onRequestClose: function () { return _this.props.onClose(); } },\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_search_input__WEBPACK_IMPORTED_MODULE_1__[\"SearchInput\"], { inputLabel: this.props.inputLabel, inputHelp: this.props.inputHelp, getDisplayName: this.props.getDisplayName, searchAction: this.props.searchAction, onSelect: function (data) { return _this.onSelect(data); }, style: { width: \"100%\" } })));\n    };\n    return SearchModal;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component));\n\n\n\n//# sourceURL=webpack:///./src/search-modal.tsx?");

/***/ }),

/***/ "./src/service-addition-details-edit-modal.tsx":
/*!*****************************************************!*\
  !*** ./src/service-addition-details-edit-modal.tsx ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _metaform_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./metaform-modal */ \"./src/metaform-modal.tsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\nvar withSelect = wp.data.withSelect;\nvar __ = wp.i18n.__;\n/**\n * Service edit modal component\n */\nvar ServiceAdditionDetailsEditModal = /** @class */ (function (_super) {\n    __extends(ServiceAdditionDetailsEditModal, _super);\n    /**\n     * Constructor\n     *\n     * @param props props\n     */\n    function ServiceAdditionDetailsEditModal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            values: props.values\n        };\n        return _this;\n    }\n    /**\n     * Component render method\n     */\n    ServiceAdditionDetailsEditModal.prototype.render = function () {\n        var _this = this;\n        if (!this.props.open) {\n            return null;\n        }\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_metaform_modal__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { onValuesChange: function (locale, values) { _this.updateValues(values); }, form: \"service/additionaldetails\", values: this.getValues(), title: __(\"Service details\", \"kunta_api_core\"), saveButtonText: __(\"Apply\", \"kunta_api_core\"), open: this.props.open, onSave: function () { _this.props.applyValues(_this.state.values); }, onClose: function () { _this.props.onClose(); }, afterFormRender: function (metaform, $metaform) { _this.afterFormRender(metaform, $metaform); } }));\n    };\n    /**\n     * Event run after the form is rendered\n     *\n     * @param $metaform metaform\n     */\n    ServiceAdditionDetailsEditModal.prototype.afterFormRender = function (metaform, $metaform) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.createLanguagesAutocomplete($metaform.find('*[data-name=\"languages\"]'), (this.state.values.languages || '').split(\",\"));\n                this.createAreasAutocomplete($metaform.find('*[data-name=\"areas\"]'), (this.state.values.areas || '').split(\",\"));\n                this.createServiceProducersAutocomplete(metaform, $metaform.find('*[data-name=\"serviceProducersPurchaseServices\"]'), (this.state.values.serviceProducersPurchaseServices || '').split(\",\").filter(function (value) { return !!value; }));\n                this.createServiceProducersAutocomplete(metaform, $metaform.find('*[data-name=\"serviceProducersOthers\"]'), (this.state.values.serviceProducersOthers || '').split(\",\").filter(function (value) { return !!value; }));\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * Creates autocomplete field for selecting areas\n     *\n     * @param element autocomplete element\n     * @param areas area codes\n     */\n    ServiceAdditionDetailsEditModal.prototype.createAreasAutocomplete = function (element, areaIds) {\n        return __awaiter(this, void 0, void 0, function () {\n            var areas, values;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        element.val(\"\");\n                        return [4 /*yield*/, _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].loadAreas(areaIds)];\n                    case 1:\n                        areas = _a.sent();\n                        values = areas.map(function (area) {\n                            var areaCode = area.type + \":\" + area.code;\n                            if (area.type == \"Municipality\") {\n                                return {\n                                    value: areaCode,\n                                    label: _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getMunicipalityNameWithType(area)\n                                };\n                            }\n                            else {\n                                return {\n                                    value: areaCode,\n                                    label: _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getCodeNameWithType(area)\n                                };\n                            }\n                        });\n                        element\n                            .autocomplete(\"option\", \"open\", function () {\n                            jQuery('.ui-autocomplete').css('z-index', 999999);\n                        })\n                            .metaformMultivalueAutocomplete('val', values, false)\n                            .metaformMultivalueAutocomplete('option', 'customSource', function (input, callback) {\n                            _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].searchCodes(\"Municipality,Province,HospitalRegions,BusinessRegions\", input.term + '*')\n                                .then(function (codes) {\n                                callback(codes.map(function (areaCode) {\n                                    return {\n                                        value: areaCode.type + \":\" + areaCode.code,\n                                        label: _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getCodeNameWithType(areaCode)\n                                    };\n                                }));\n                            })\n                                .catch(function (err) {\n                                // TODO: Proper error handling\n                                alert(err);\n                            });\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Creates autocomplete field for selecting languages\n     *\n     * @param element autocomplete element\n     * @param languageCodes language codes\n     */\n    ServiceAdditionDetailsEditModal.prototype.createLanguagesAutocomplete = function (element, languages) {\n        return __awaiter(this, void 0, void 0, function () {\n            var values;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        element.val(\"\");\n                        return [4 /*yield*/, _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].loadLanguageCodes(languages)];\n                    case 1:\n                        values = _a.sent();\n                        element\n                            .autocomplete(\"option\", \"open\", function () {\n                            jQuery('.ui-autocomplete').css('z-index', 999999);\n                        })\n                            .metaformMultivalueAutocomplete('val', values, false)\n                            .metaformMultivalueAutocomplete('option', 'customSource', function (input, callback) {\n                            _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].searchCodes(\"Language\", input.term + '*')\n                                .then(function (codes) {\n                                callback(codes.map(function (codeItem) {\n                                    return {\n                                        value: codeItem.code,\n                                        label: _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLocalizedValue(codeItem.names, 'fi')\n                                    };\n                                }));\n                            })\n                                .catch(function (err) {\n                                // TODO: Proper error handling\n                                alert(err);\n                            });\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Creates autocomplete field for selecting service producers\n     *\n     * @param element autocomplete element\n     * @param organizationItems organizationItem to be loaded\n     */\n    ServiceAdditionDetailsEditModal.prototype.createServiceProducersAutocomplete = function (metaform, element, organizationIds) {\n        return __awaiter(this, void 0, void 0, function () {\n            var values;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        element.val('');\n                        return [4 /*yield*/, Promise.all(organizationIds.map(function (organizationId) { return __awaiter(_this, void 0, void 0, function () {\n                                var organization;\n                                return __generator(this, function (_a) {\n                                    switch (_a.label) {\n                                        case 0: return [4 /*yield*/, _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOrganization(organizationId)];\n                                        case 1:\n                                            organization = _a.sent();\n                                            return [2 /*return*/, {\n                                                    value: organization.id,\n                                                    label: _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLocalizedValue(organization.names, 'fi')\n                                                }];\n                                    }\n                                });\n                            }); }))];\n                    case 1:\n                        values = _a.sent();\n                        element\n                            .autocomplete(\"option\", \"open\", function () {\n                            jQuery('.ui-autocomplete').css('z-index', 999999);\n                        })\n                            .metaformMultivalueAutocomplete('val', values, false)\n                            .metaformMultivalueAutocomplete(\"option\", 'onchange', function () {\n                            metaform.triggerChange();\n                        })\n                            .metaformMultivalueAutocomplete('option', 'customSource', function (input, callback) {\n                            var search = _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].splitSearchTerms(input.term);\n                            if (!search) {\n                                callback([]);\n                                return;\n                            }\n                            _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].searchOrganizations(search).then(function (organizations) {\n                                callback(organizations.map(function (organization) {\n                                    return {\n                                        value: organization.id,\n                                        label: _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLocalizedValue(organization.names, 'fi')\n                                    };\n                                }));\n                            })\n                                .catch(function (err) {\n                                // TODO: Proper error handling\n                                alert(err);\n                            });\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Updates form values for locale\n     *\n     * @param locale locale\n     * @param changedValues changed values\n     */\n    ServiceAdditionDetailsEditModal.prototype.updateValues = function (changedValues) {\n        this.setState({ values: changedValues });\n    };\n    /**\n     * Returns values\n     *\n     * @returns values\n     */\n    ServiceAdditionDetailsEditModal.prototype.getValues = function () {\n        return this.state.values;\n    };\n    return ServiceAdditionDetailsEditModal;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component));\n/* harmony default export */ __webpack_exports__[\"default\"] = (withSelect(function (select, ownProps) {\n    var getService = select(\"kunta-api/data\").getService;\n    var serviceId = ownProps.serviceId;\n    return {\n        service: serviceId ? getService(serviceId) : {}\n    };\n})(ServiceAdditionDetailsEditModal));\n\n\n//# sourceURL=webpack:///./src/service-addition-details-edit-modal.tsx?");

/***/ }),

/***/ "./src/service-block.tsx":
/*!*******************************!*\
  !*** ./src/service-block.tsx ***!
  \*******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _service_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./service-component */ \"./src/service-component.tsx\");\n\n\nvar __ = wp.i18n.__;\n/**\n * Registers block type\n *\n * Icon from https://fontawesome.com/v4.7.0/icon/info\n */\nwp.blocks.registerBlockType('kunta-api/service', {\n    title: __('Kunta API Service', 'kunta_api_core'),\n    icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"svg\", { \"aria-hidden\": \"true\", width: \"0.46em\", height: \"1em\", preserveAspectRatio: \"xMidYMid meet\", viewBox: \"0 0 640 1408\" },\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", { d: \"M640 1216v128q0 26-19 45t-45 19H64q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h64V768H64q-26 0-45-19T0 704V576q0-26 19-45t45-19h384q26 0 45 19t19 45v576h64q26 0 45 19t19 45zM512 64v192q0 26-19 45t-45 19H192q-26 0-45-19t-19-45V64q0-26 19-45t45-19h256q26 0 45 19t19 45z\", fill: \"#626262\" })),\n    category: 'kunta-api',\n    attributes: {\n        serviceId: {\n            type: 'string'\n        },\n        component: {\n            type: 'string'\n        },\n        lang: {\n            type: 'string'\n        }\n    },\n    /**\n     * Block type edit method\n     */\n    edit: (function (params) {\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_service_component__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { component: params.attributes.component, lang: params.attributes.lang, serviceId: params.attributes.serviceId, onComponentChange: function (component) {\n                params.setAttributes({ \"component\": component });\n            }, onLangChange: function (lang) {\n                params.setAttributes({ \"lang\": lang });\n            }, onServiceIdChange: function (serviceId) {\n                params.setAttributes({ \"serviceId\": serviceId });\n            } }));\n    }),\n    /**\n     * Block type save method\n     */\n    save: function () {\n        return null;\n    }\n});\n\n\n//# sourceURL=webpack:///./src/service-block.tsx?");

/***/ }),

/***/ "./src/service-channel-addition-details-edit-modal.tsx":
/*!*************************************************************!*\
  !*** ./src/service-channel-addition-details-edit-modal.tsx ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _metaform_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./metaform-modal */ \"./src/metaform-modal.tsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\nvar withSelect = wp.data.withSelect;\nvar __ = wp.i18n.__;\n/**\n * Service channel edit modal component\n */\nvar ServiceChannelAdditionDetailsEditModal = /** @class */ (function (_super) {\n    __extends(ServiceChannelAdditionDetailsEditModal, _super);\n    /**\n     * Constructor\n     *\n     * @param props props\n     */\n    function ServiceChannelAdditionDetailsEditModal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            values: props.values\n        };\n        return _this;\n    }\n    /**\n     * Component render method\n     */\n    ServiceChannelAdditionDetailsEditModal.prototype.render = function () {\n        var _this = this;\n        if (!this.props.open) {\n            return null;\n        }\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_metaform_modal__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { onValuesChange: function (locale, values) { _this.updateValues(values); }, form: \"servicechannel/\" + this.getForm(), values: this.getValues(), title: __(\"Channel details\", \"kunta_api_core\"), saveButtonText: __(\"Apply\", \"kunta_api_core\"), open: this.props.open, onSave: function () { _this.props.applyValues(_this.state.values); }, onClose: function () { _this.props.onClose(); }, afterFormRender: function (metaform, $metaform) { _this.afterFormRender(metaform, $metaform); } }));\n    };\n    /**\n     * Returns form for this channel type\n     *\n     * @return form for this channel type\n     */\n    ServiceChannelAdditionDetailsEditModal.prototype.getForm = function () {\n        switch (this.props.channelType) {\n            case \"electronic\":\n                return \"electronic-additionaldetails\";\n            case \"phone\":\n                return \"phone-additionaldetails\";\n            case \"printableForm\":\n                return \"printable-form-additionaldetails\";\n            case \"webpage\":\n                return \"webpage-additionaldetails\";\n            case \"serviceLocation\":\n                return \"service-location-additionaldetails\";\n        }\n        return this.props.channelType;\n    };\n    /**\n     * Event run after the form is rendered\n     *\n     * @param $metaform metaform\n     */\n    ServiceChannelAdditionDetailsEditModal.prototype.afterFormRender = function (metaform, $metaform) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.createAreasAutocomplete($metaform.find('*[data-name=\"areas\"]'), (this.state.values.areas || '').split(\",\"));\n                this.createLanguagesAutocomplete($metaform.find('*[data-name=\"languages\"]'), (this.state.values.languages || '').split(\",\"));\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * Creates autocomplete field for selecting areas\n     *\n     * @param element autocomplete element\n     * @param areas area codes\n     */\n    ServiceChannelAdditionDetailsEditModal.prototype.createAreasAutocomplete = function (element, areaIds) {\n        return __awaiter(this, void 0, void 0, function () {\n            var areas, values;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        element.val(\"\");\n                        return [4 /*yield*/, _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].loadAreas(areaIds)];\n                    case 1:\n                        areas = _a.sent();\n                        values = areas.map(function (area) {\n                            var areaCode = area.type + \":\" + area.code;\n                            if (area.type == \"Municipality\") {\n                                return {\n                                    value: areaCode,\n                                    label: _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getMunicipalityNameWithType(area)\n                                };\n                            }\n                            else {\n                                return {\n                                    value: areaCode,\n                                    label: _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getCodeNameWithType(area)\n                                };\n                            }\n                        });\n                        element\n                            .autocomplete(\"option\", \"open\", function () {\n                            jQuery('.ui-autocomplete').css('z-index', 999999);\n                        })\n                            .metaformMultivalueAutocomplete('val', values, false)\n                            .metaformMultivalueAutocomplete('option', 'customSource', function (input, callback) {\n                            _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].searchCodes(\"Municipality,Province,HospitalRegions,BusinessRegions\", input.term + '*')\n                                .then(function (codes) {\n                                callback(codes.map(function (areaCode) {\n                                    return {\n                                        value: areaCode.type + \":\" + areaCode.code,\n                                        label: _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getCodeNameWithType(areaCode)\n                                    };\n                                }));\n                            })\n                                .catch(function (err) {\n                                // TODO: Proper error handling\n                                alert(err);\n                            });\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Creates autocomplete field for selecting languages\n     *\n     * @param element autocomplete element\n     * @param languageCodes language codes\n     */\n    ServiceChannelAdditionDetailsEditModal.prototype.createLanguagesAutocomplete = function (element, languages) {\n        return __awaiter(this, void 0, void 0, function () {\n            var values;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        element.val(\"\");\n                        return [4 /*yield*/, _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].loadLanguageCodes(languages)];\n                    case 1:\n                        values = _a.sent();\n                        element\n                            .autocomplete(\"option\", \"open\", function () {\n                            jQuery('.ui-autocomplete').css('z-index', 999999);\n                        })\n                            .metaformMultivalueAutocomplete('val', values, false)\n                            .metaformMultivalueAutocomplete('option', 'customSource', function (input, callback) {\n                            _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].searchCodes(\"Language\", input.term + '*')\n                                .then(function (codes) {\n                                callback(codes.map(function (codeItem) {\n                                    return {\n                                        value: codeItem.code,\n                                        label: _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLocalizedValue(codeItem.names, 'fi')\n                                    };\n                                }));\n                            })\n                                .catch(function (err) {\n                                // TODO: Proper error handling\n                                alert(err);\n                            });\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Updates form values for locale\n     *\n     * @param locale locale\n     * @param changedValues changed values\n     */\n    ServiceChannelAdditionDetailsEditModal.prototype.updateValues = function (changedValues) {\n        this.setState({ values: changedValues });\n    };\n    /**\n     * Returns values\n     *\n     * @returns values\n     */\n    ServiceChannelAdditionDetailsEditModal.prototype.getValues = function () {\n        return this.state.values;\n    };\n    return ServiceChannelAdditionDetailsEditModal;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component));\n/* harmony default export */ __webpack_exports__[\"default\"] = (withSelect(function (select, ownProps) {\n    var getServiceChannel = select(\"kunta-api/data\").getServiceChannel;\n    var channelType = ownProps.channelType, channelId = ownProps.channelId;\n    var channel = getServiceChannel(channelType, channelId);\n    return {\n        channel: channel || {}\n    };\n})(ServiceChannelAdditionDetailsEditModal));\n\n\n//# sourceURL=webpack:///./src/service-channel-addition-details-edit-modal.tsx?");

/***/ }),

/***/ "./src/service-channel-edit-modal.tsx":
/*!********************************************!*\
  !*** ./src/service-channel-edit-modal.tsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _metaform_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./metaform-modal */ \"./src/metaform-modal.tsx\");\n/* harmony import */ var _adapters_electronic_service_channel_adapter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./adapters/electronic-service-channel-adapter */ \"./src/adapters/electronic-service-channel-adapter.ts\");\n/* harmony import */ var _service_channel_addition_details_edit_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./service-channel-addition-details-edit-modal */ \"./src/service-channel-addition-details-edit-modal.tsx\");\n/* harmony import */ var _servicehour_modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./servicehour-modal */ \"./src/servicehour-modal.tsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\n/* harmony import */ var _adapters_phone_service_channel_adapter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./adapters/phone-service-channel-adapter */ \"./src/adapters/phone-service-channel-adapter.ts\");\n/* harmony import */ var _adapters_printable_form_service_channel_adapter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./adapters/printable-form-service-channel-adapter */ \"./src/adapters/printable-form-service-channel-adapter.ts\");\n/* harmony import */ var _adapters_webpage_service_channel_adapter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./adapters/webpage-service-channel-adapter */ \"./src/adapters/webpage-service-channel-adapter.ts\");\n/* harmony import */ var _adapters_service_location_service_channel_adapter__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./adapters/service-location-service-channel-adapter */ \"./src/adapters/service-location-service-channel-adapter.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\n\n\n\n\n\n\n\n\nvar withSelect = wp.data.withSelect;\nvar _a = wp.i18n, __ = _a.__, sprintf = _a.sprintf;\nvar locales = [\"fi\", \"sv\", \"en\"];\n/**\n * Service channel edit modal component\n */\nvar ServiceChannelEditModal = /** @class */ (function (_super) {\n    __extends(ServiceChannelEditModal, _super);\n    /**\n     * Constructor\n     *\n     * @param props props\n     */\n    function ServiceChannelEditModal(props) {\n        var _this = _super.call(this, props) || this;\n        var adapter = _this.getAdapter();\n        var values = {};\n        if (props.channel) {\n            locales.forEach(function (locale) {\n                values[locale] = adapter.channelToForm(locale, props.channel);\n            });\n        }\n        ;\n        _this.state = {\n            locale: \"fi\",\n            saving: false,\n            saveError: null,\n            additionalDetailsOpen: false,\n            values: values,\n            additionalValues: props.channel ? adapter.additionalToForm(props.channel) : {},\n            editServiceHourOpen: false,\n            serviceHours: props.channel ? adapter.serviceHoursToForm(props.channel) : [],\n            editServiceHourIndex: -1\n        };\n        return _this;\n    }\n    /**\n     * Component did update life-cycle event\n     *\n     * @param prevProps previous props\n     * @param prevState previous state\n     */\n    ServiceChannelEditModal.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _this = this;\n        if ((JSON.stringify(this.props.channel) !== JSON.stringify(prevProps.channel))) {\n            var adapter = this.getAdapter();\n            var values_1 = {};\n            locales.forEach(function (locale) {\n                values_1[locale] = _this.getAdapter().channelToForm(locale, _this.props.channel);\n            });\n            this.setState({\n                values: values_1,\n                additionalValues: this.props.channel ? adapter.additionalToForm(this.props.channel) : {},\n                serviceHours: this.props.channel ? adapter.serviceHoursToForm(this.props.channel) : [],\n            });\n        }\n        if ((JSON.stringify(this.state.serviceHours) !== JSON.stringify(prevState.serviceHours))) {\n            this.renderServiceHours();\n        }\n    };\n    /**\n     * Component render method\n     */\n    ServiceChannelEditModal.prototype.render = function () {\n        var _this = this;\n        if (!this.props.open) {\n            return null;\n        }\n        if (this.state.editServiceHourOpen) {\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_servicehour_modal__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { adapter: this.getAdapter(), values: this.state.editServiceHourIndex > -1 ? this.state.serviceHours[this.state.editServiceHourIndex] : {}, okButtonText: this.state.editServiceHourIndex > -1 ? __(\"Apply\", \"kunta_api_core\") : __(\"Add\", \"kunta_api_core\"), onOkClick: function (values) {\n                    _this.onServiceHourOk(values);\n                }, onClose: function () {\n                    _this.setState({ editServiceHourOpen: false });\n                } }));\n        }\n        if (this.state.additionalDetailsOpen) {\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_service_channel_addition_details_edit_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"], { channelId: this.props.channelId, channelType: this.props.channelType, open: this.state.additionalDetailsOpen, values: this.state.additionalValues, applyValues: function (additionalValues) { _this.applyAdditionalValues(additionalValues); }, onClose: function () {\n                    _this.setState({ additionalDetailsOpen: false });\n                } }));\n        }\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_metaform_modal__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { locales: locales, locale: this.state.locale, saveButtonText: __(\"Save\", \"kunta_api_core\"), onLocaleChange: function (locale) { _this.changeLocale(locale); }, onValuesChange: function (locale, values) { _this.updateValues(locale, values); }, form: \"servicechannel/\" + this.getForm(), values: this.getValues(this.state.locale), title: sprintf(__(\"Edit service channel (%s)\", \"kunta_api_core\"), this.state.locale), saveError: this.state.saveError, saving: this.state.saving, open: this.props.open, afterFormRender: function (metaform, $metaform) { return _this.afterFormRender(metaform, $metaform); }, onSave: function () { _this.saveServiceChannel(); }, onClose: function () { _this.setState({ saving: false, saveError: null }); _this.props.onClose(); } }));\n    };\n    /**\n     * Event triggered\n     *\n     * @param serviceHour\n     */\n    ServiceChannelEditModal.prototype.onServiceHourOk = function (serviceHour) {\n        var serviceHours = [].concat(this.state.serviceHours);\n        if (this.state.editServiceHourIndex > -1) {\n            serviceHours[this.state.editServiceHourIndex] = serviceHour;\n        }\n        else {\n            serviceHours.push(serviceHour);\n        }\n        this.setState({\n            editServiceHourIndex: -1,\n            editServiceHourOpen: false,\n            serviceHours: serviceHours.filter(function (serviceHour) {\n                return !!serviceHour && !!serviceHour.type;\n            })\n        });\n    };\n    /**\n     * Renders service hours into the form\n     */\n    ServiceChannelEditModal.prototype.renderServiceHours = function () {\n        var _this = this;\n        var serviceHours = this.getAdapter().serviceHoursFromForm(this.state.serviceHours);\n        var serviceHourTexts = serviceHours.map(function (serviceHour) {\n            return _this.formatServiceHour(serviceHour);\n        });\n        var tableBody = this.$metaform.find('table.serviceHours tbody');\n        tableBody.empty();\n        if (serviceHourTexts.length) {\n            serviceHourTexts.forEach(function (serviceHourText) {\n                var row = jQuery('<tr>').appendTo(tableBody);\n                var removeButton = jQuery('<a>')\n                    .css(\"margin-right\", \"4px\")\n                    .addClass('btn btn-sm btn-warning remove-service-hour')\n                    .html(__(\"Remove\", \"kunta_api_core\"));\n                var editButton = jQuery('<a>')\n                    .addClass('btn btn-sm btn-success edit-service-hour')\n                    .html(__(\"Edit\", \"kunta_api_core\"));\n                jQuery('<td>').html(serviceHourText).appendTo(row);\n                jQuery('<td>').css({ \"text-align\": \"right\" }).append(removeButton, editButton).appendTo(row);\n            });\n        }\n        else {\n            var row = jQuery('<tr>').appendTo(tableBody);\n            jQuery('<td>')\n                .html('Palveluaikoja ei ole viel mritelty')\n                .appendTo(row);\n        }\n    };\n    /**\n     * Formats service hour for displaying\n     *\n     * @param serviceHour\n     * @return formatted service hour\n     */\n    ServiceChannelEditModal.prototype.formatServiceHour = function (serviceHour) {\n        var _this = this;\n        var type = this.getServiceHourTypeName(serviceHour.serviceHourType);\n        if (serviceHour.serviceHourType === 'Exceptional') {\n            var result = \"(\" + type + \")\";\n            if (serviceHour.isClosed) {\n                result += \" \" + __(\"Closed\", \"kunta_api_core\");\n            }\n            var openingHour = serviceHour.openingHour && serviceHour.openingHour.length ? serviceHour.openingHour[0] : null;\n            var openFrom = openingHour ? openingHour.from : null;\n            var openTo = openingHour ? openingHour.to : null;\n            if (serviceHour.validFrom && serviceHour.validTo) {\n                result += \" \" + _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].formatDateWithTime(serviceHour.validFrom, openFrom) + \" - \" + _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].formatDateWithTime(serviceHour.validTo, openTo);\n            }\n            else if (serviceHour.validFrom) {\n                result += \" \" + _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].formatDateWithTimes(serviceHour.validFrom, openFrom, openTo);\n            }\n            var additionalInformation = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getAnyLocalizedValue(serviceHour.additionalInformation);\n            if (additionalInformation) {\n                return result + \" - \" + additionalInformation;\n            }\n            return result;\n        }\n        else {\n            if (serviceHour.openingHour.length === 0 && !serviceHour.isClosed) {\n                return \"(\" + type + \") Aina avoinna (24/7)\";\n            }\n            var openingHours = (serviceHour.openingHour || []).map(function (openingHour) {\n                return _this.formatOpeningHour(openingHour);\n            });\n            return \"(\" + type + \") \" + openingHours.join(',');\n        }\n    };\n    /**\n     * Formats opening hour for displaying\n     *\n     * @param dailyOpeningTime daily opening time\n     * @return formatted opening hour\n     */\n    ServiceChannelEditModal.prototype.formatOpeningHour = function (dailyOpeningTime) {\n        if (!dailyOpeningTime) {\n            return null;\n        }\n        if (dailyOpeningTime.dayFrom === null) {\n            return '';\n        }\n        else {\n            var result = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getDayName(dailyOpeningTime.dayFrom, true);\n            if (dailyOpeningTime.dayTo && dailyOpeningTime.dayTo !== dailyOpeningTime.dayFrom) {\n                result += ' - ' + _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getDayName(dailyOpeningTime.dayTo, true);\n            }\n            if (dailyOpeningTime.from) {\n                result += ' ' + dailyOpeningTime.from;\n            }\n            if (dailyOpeningTime.to) {\n                result += ' - ' + dailyOpeningTime.to;\n            }\n            return result;\n        }\n    };\n    /**\n     * Returns service hour type name\n     *\n     * @param type type\n     * @return service hour type name\n     */\n    ServiceChannelEditModal.prototype.getServiceHourTypeName = function (type) {\n        var serviceHourTypeNames = {\n            'OverMidnight': 'Pivystys',\n            'DaysOfTheWeek': 'Normaali',\n            'Exceptional': 'Poikkeus'\n        };\n        return serviceHourTypeNames[type];\n    };\n    /**\n     * Returns adapter for this channel type\n     *\n     * @retrn adapter for this channel type\n     */\n    ServiceChannelEditModal.prototype.getAdapter = function () {\n        switch (this.props.channelType) {\n            case \"electronic\":\n                return new _adapters_electronic_service_channel_adapter__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n            case \"phone\":\n                return new _adapters_phone_service_channel_adapter__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n            case \"printableForm\":\n                return new _adapters_printable_form_service_channel_adapter__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\n            case \"webpage\":\n                return new _adapters_webpage_service_channel_adapter__WEBPACK_IMPORTED_MODULE_8__[\"default\"]();\n            case \"serviceLocation\":\n                return new _adapters_service_location_service_channel_adapter__WEBPACK_IMPORTED_MODULE_9__[\"default\"]();\n        }\n        return null;\n    };\n    /**\n     * Applies additional values into state and closes adiitional details dialog\n     */\n    ServiceChannelEditModal.prototype.applyAdditionalValues = function (additionalValues) {\n        this.setState({\n            additionalValues: additionalValues,\n            additionalDetailsOpen: false,\n        });\n    };\n    /**\n     * Returns form for this channel type\n     *\n     * @return form for this channel type\n     */\n    ServiceChannelEditModal.prototype.getForm = function () {\n        switch (this.props.channelType) {\n            case \"electronic\":\n                return \"electronic\";\n            case \"phone\":\n                return \"phone\";\n            case \"printableForm\":\n                return \"printable-form\";\n            case \"webpage\":\n                return \"webpage\";\n            case \"serviceLocation\":\n                return \"service-location\";\n        }\n        return this.props.channelType;\n    };\n    /**\n     * Returns save action channel type\n     *\n     * @return save action this channel type\n     */\n    ServiceChannelEditModal.prototype.getSaveAction = function () {\n        switch (this.props.channelType) {\n            case \"electronic\":\n                return \"kunta_api_save_electronic_service_channel\";\n            case \"phone\":\n                return \"kunta_api_save_phone_service_channel\";\n            case \"printableForm\":\n                return \"kunta_api_save_printable_form_service_channel\";\n            case \"webpage\":\n                return \"kunta_api_save_webpage_service_channel\";\n            case \"serviceLocation\":\n                return \"kunta_api_save_service_location_service_channel\";\n        }\n        return null;\n    };\n    /**\n     * Event run after the form is rendered\n     *\n     * @param $metaform metaform\n     */\n    ServiceChannelEditModal.prototype.afterFormRender = function (metaform, $metaform) {\n        this.$metaform = $metaform;\n        $metaform.on(\"click\", \".edit-additional-details\", this.onEditAdditionalDetailsClick.bind(this));\n        $metaform.on(\"click\", \".btn.add-service-hour\", this.onAddServiceHourClick.bind(this));\n        $metaform.on(\"click\", \".btn.remove-service-hour\", this.onRemoveServiceHourClick.bind(this));\n        $metaform.on(\"click\", \".btn.edit-service-hour\", this.onEditServiceHourClick.bind(this));\n        this.renderServiceHours();\n    };\n    /**\n     * Event handler for additional details button click\n     *\n     * @param event event\n     */\n    ServiceChannelEditModal.prototype.onEditAdditionalDetailsClick = function (event) {\n        this.setState({\n            additionalDetailsOpen: true\n        });\n    };\n    /**\n     * Event handler for add service hour button click\n     *\n     * @param event event\n     */\n    ServiceChannelEditModal.prototype.onAddServiceHourClick = function (event) {\n        this.setState({\n            editServiceHourOpen: true\n        });\n    };\n    /**\n     * Event handler for remove service hour button click\n     *\n     * @param event event\n     */\n    ServiceChannelEditModal.prototype.onRemoveServiceHourClick = function (event) {\n        var index = jQuery(event.target).closest(\"tr\").index();\n        var serviceHours = [].concat(this.state.serviceHours);\n        serviceHours.splice(index, 1);\n        this.setState({\n            serviceHours: serviceHours\n        });\n    };\n    /**\n     * Event handler for edit service hour button click\n     *\n     * @param event event\n     */\n    ServiceChannelEditModal.prototype.onEditServiceHourClick = function (event) {\n        var index = jQuery(event.target).closest(\"tr\").index();\n        this.setState({\n            editServiceHourOpen: true,\n            editServiceHourIndex: index\n        });\n    };\n    /**\n     * Changes locale\n     *\n     * @param locale locale\n     */\n    ServiceChannelEditModal.prototype.changeLocale = function (locale) {\n        this.setState({ locale: locale });\n    };\n    /**\n     * Updates form values for locale\n     *\n     * @param locale locale\n     * @param changedValues changed values\n     */\n    ServiceChannelEditModal.prototype.updateValues = function (locale, changedValues) {\n        var newValues = __assign({}, this.state.values);\n        newValues[locale] = changedValues;\n        this.setState({ locale: locale, values: newValues });\n    };\n    /**\n     * Returns values for locale\n     *\n     * @param locale locale\n     * @returns values\n     */\n    ServiceChannelEditModal.prototype.getValues = function (locale) {\n        return this.state.values[locale];\n    };\n    /**\n     * Saves the service channel\n     */\n    ServiceChannelEditModal.prototype.saveServiceChannel = function () {\n        var _this = this;\n        var apiFetch = wp.apiFetch;\n        this.setState({\n            saving: true\n        });\n        var adapter = this.getAdapter();\n        var data = adapter.applyToChannel(this.state.values, this.state.additionalValues, this.state.serviceHours, this.props.channel);\n        var body = new URLSearchParams();\n        body.append(\"action\", this.getSaveAction());\n        body.append(\"serviceChannel\", JSON.stringify(data));\n        apiFetch({ url: ajaxurl, method: \"POST\", body: body })\n            .then(function (updatedChannel) {\n            wp.data.dispatch(\"kunta-api/data\").setServiceChannel(_this.props.channelType, _this.props.channelId, updatedChannel);\n            _this.setState({\n                saving: false,\n                saveError: null\n            });\n            _this.props.onClose();\n        })\n            .catch(function (err) {\n            _this.setState({\n                saving: false,\n                saveError: JSON.stringify(err)\n            });\n        });\n    };\n    return ServiceChannelEditModal;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component));\n/* harmony default export */ __webpack_exports__[\"default\"] = (withSelect(function (select, ownProps) {\n    var getServiceChannel = select(\"kunta-api/data\").getServiceChannel;\n    var channelType = ownProps.channelType, channelId = ownProps.channelId;\n    var channel = getServiceChannel(channelType, channelId);\n    return {\n        channel: channel || null\n    };\n})(ServiceChannelEditModal));\n\n\n//# sourceURL=webpack:///./src/service-channel-edit-modal.tsx?");

/***/ }),

/***/ "./src/service-channels-edit-modal.tsx":
/*!*********************************************!*\
  !*** ./src/service-channels-edit-modal.tsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _search_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./search-modal */ \"./src/search-modal.tsx\");\n/* harmony import */ var _service_channel_edit_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./service-channel-edit-modal */ \"./src/service-channel-edit-modal.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar withSelect = wp.data.withSelect;\nvar __ = wp.i18n.__;\nvar channelTypes = {\n    \"electronic\": {\n        title: __(\"Electronic Service Channels\", \"kunta_api_core\"),\n        emptyMessage: __(\"No attached electronic service channels\", \"kunta_api_core\"),\n        searchAction: \"search_electronic_service_channels\"\n    },\n    \"phone\": {\n        title: __(\"Phone Service Channels\", \"kunta_api_core\"),\n        emptyMessage: __(\"No attached phone service channels\", \"kunta_api_core\"),\n        searchAction: \"search_phone_service_channels\"\n    },\n    \"printableForm\": {\n        title: __(\"Printable form Service Channels\", \"kunta_api_core\"),\n        emptyMessage: __(\"No attached printable form service channels\", \"kunta_api_core\"),\n        searchAction: \"search_printable_form_service_channels\"\n    },\n    \"webpage\": {\n        title: __(\"Web page Service Channels\", \"kunta_api_core\"),\n        emptyMessage: __(\"No attached web page service channels\", \"kunta_api_core\"),\n        searchAction: \"search_web_page_service_channels\"\n    },\n    \"serviceLocation\": {\n        title: __(\"Service Location Service Channels\", \"kunta_api_core\"),\n        emptyMessage: __(\"No attached service location service channels\", \"kunta_api_core\"),\n        searchAction: \"search_service_location_channels\"\n    }\n};\n/**\n * Service channels edit modal component\n */\nvar ServiceChannelsEditModal = /** @class */ (function (_super) {\n    __extends(ServiceChannelsEditModal, _super);\n    /**\n     * Constructor\n     *\n     * @param props props\n     */\n    function ServiceChannelsEditModal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            channelAddOpen: false,\n            channelAddType: null,\n            channels: props.channels,\n            channelEditOpen: false,\n            channelEditType: null,\n            channelEditId: null\n        };\n        return _this;\n    }\n    /**\n     * Component did update life-cycle event\n     *\n     * @param prevProps previous props\n     * @param prevState previous state\n     */\n    ServiceChannelsEditModal.prototype.componentDidUpdate = function (prevProps, prevState) {\n        if ((JSON.stringify(prevProps.channels) !== JSON.stringify(this.props.channels))) {\n            this.setState({\n                channels: this.props.channels\n            });\n        }\n    };\n    /**\n     * Component render method\n     */\n    ServiceChannelsEditModal.prototype.render = function () {\n        var _this = this;\n        if (!this.props.open) {\n            return null;\n        }\n        if (this.state.channelAddOpen) {\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_search_modal__WEBPACK_IMPORTED_MODULE_1__[\"SearchModal\"], { modalTitle: __(\"Add Channel\", 'kunta_api_core'), inputLabel: __(\"Search Channel\", \"kunta_api_core\"), inputHelp: __(\"Enter some text to search service channel\", \"kunta_api_core\"), searchAction: \"kunta_api_\" + this.getChannelAddSearchAction(), open: this.state.channelAddOpen, getDisplayName: this.getChannelDisplayName, onSelect: function (channel) { _this.onAddChannelSelect(channel); }, onClose: function () { return _this.setState({ channelAddOpen: false }); } }));\n        }\n        if (this.state.channelEditOpen) {\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_service_channel_edit_modal__WEBPACK_IMPORTED_MODULE_2__[\"default\"], { channelId: this.state.channelEditId, channelType: this.state.channelEditType, open: this.state.channelEditOpen, onClose: function () { return _this.setState({ channelEditOpen: false }); } }));\n        }\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Modal, { style: { minWidth: \"60%\" }, title: __(\"Service channels\", \"kunta_api_core\"), onRequestClose: function () { return _this.props.onClose(); } },\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Panel, { header: __(\"Service Channels\", \"kunta_api_core\") }, Object.keys(channelTypes).map(function (channelType) {\n                var details = channelTypes[channelType];\n                return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.PanelBody, { title: details.title, initialOpen: true },\n                    _this.renderChannels(channelType),\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.PanelRow, null,\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Button, { className: \"button\", onClick: function () { _this.setState({ channelAddType: channelType, channelAddOpen: true }); } }, __(\"Add channel\", \"kunta_api_core\")))));\n            })),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null,\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Button, { className: \"button\", isDefault: true, onClick: function () { _this.props.applyValues(_this.state.channels); } }, __('Apply changes', 'kunta_api_core')))));\n    };\n    /**\n     * Renders channels\n     *\n     * @param channelType channel type\n     * @return rendered channels\n     */\n    ServiceChannelsEditModal.prototype.renderChannels = function (channelType) {\n        var _this = this;\n        var channels = this.state.channels[channelType];\n        if (!channels || !channels.length) {\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.PanelRow, null,\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null,\n                    channelTypes[channelType].emptyMessage,\n                    \"\\u00A0\")));\n        }\n        return (channels\n            .filter(function (channel) { return channel; })\n            .map(function (channel) {\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.PanelRow, null,\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, _this.getChannelDisplayName(channel)),\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { float: \"right\" } },\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Button, { className: \"button\", onClick: function () { _this.onEditChannelClick(channelType, channel); } }, __(\"Edit\", \"kunta_api_core\")),\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Button, { className: \"button\", onClick: function () { _this.onRemoveChannelClick(channelType, channel); } }, __(\"Remove\", \"kunta_api_core\")))));\n        }));\n    };\n    /**\n     * Returns search action for current channel add dialog\n     *\n     * @returns search action for current channel add dialog\n     */\n    ServiceChannelsEditModal.prototype.getChannelAddSearchAction = function () {\n        return channelTypes[this.state.channelAddType].searchAction;\n    };\n    /**\n     * Event triggered when new channel has been selected in add dialog\n     *\n     * @param channel channel\n     */\n    ServiceChannelsEditModal.prototype.onAddChannelSelect = function (channel) {\n        var channels = this.state.channels;\n        switch (this.state.channelAddType) {\n            case \"electronic\":\n                channels.electronic = channels.electronic.concat(channel);\n                break;\n            case \"phone\":\n                channels.phone = channels.phone.concat(channel);\n                break;\n            case \"printableForm\":\n                channels.printableForm = channels.printableForm.concat(channel);\n                break;\n            case \"webpage\":\n                channels.webpage = channels.webpage.concat(channel);\n                break;\n            case \"serviceLocation\":\n                channels.serviceLocation = channels.serviceLocation.concat(channel);\n                break;\n        }\n        this.setState({\n            channels: channels,\n            channelAddOpen: false\n        });\n    };\n    /**\n     * Event handler for remove channel click\n     *\n     * @param channelType channel type\n     * @param channel channel\n     */\n    ServiceChannelsEditModal.prototype.onRemoveChannelClick = function (channelType, channel) {\n        var channels = this.state.channels;\n        switch (channelType) {\n            case \"electronic\":\n                channels.electronic = channels.electronic.filter(function (c) { return c.id !== channel.id; });\n                break;\n            case \"phone\":\n                channels.phone = channels.phone.filter(function (c) { return c.id !== channel.id; });\n                break;\n            case \"printableForm\":\n                channels.printableForm = channels.printableForm.filter(function (c) { return c.id !== channel.id; });\n                break;\n            case \"webpage\":\n                channels.webpage = channels.webpage.filter(function (c) { return c.id !== channel.id; });\n                break;\n            case \"serviceLocation\":\n                channels.serviceLocation = channels.serviceLocation.filter(function (c) { return c.id !== channel.id; });\n                break;\n        }\n        this.setState({\n            channels: channels\n        });\n    };\n    /**\n     * Event handler for edit channel click\n     *\n     * @param channelType channel type\n     * @param channel channel\n     */\n    ServiceChannelsEditModal.prototype.onEditChannelClick = function (channelType, channel) {\n        this.setState({\n            channelEditId: channel.id,\n            channelEditType: channelType,\n            channelEditOpen: true\n        });\n    };\n    /**\n     * Returns channel's display name\n     *\n     * @param channel channel\n     * @return display name\n     */\n    ServiceChannelsEditModal.prototype.getChannelDisplayName = function (channel) {\n        var names = channel.names || [];\n        names.sort(function (a, b) {\n            return a.language === 'fi' ? -1 : 1;\n        });\n        return names.length ? names[0].value : null;\n    };\n    return ServiceChannelsEditModal;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component));\n/* harmony default export */ __webpack_exports__[\"default\"] = (withSelect(function (select, ownProps) {\n    var getServiceChannel = select(\"kunta-api/data\").getServiceChannel;\n    var channelIds = ownProps.channelIds;\n    var channels = {};\n    Object.keys(channelTypes).forEach(function (channelType) {\n        channels[channelType] = (channelIds[channelType] || []).map(function (channelId) {\n            return getServiceChannel(channelType, channelId);\n        });\n    });\n    return {\n        channels: channels\n    };\n})(ServiceChannelsEditModal));\n\n\n//# sourceURL=webpack:///./src/service-channels-edit-modal.tsx?");

/***/ }),

/***/ "./src/service-component.tsx":
/*!***********************************!*\
  !*** ./src/service-component.tsx ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _search_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./search-modal */ \"./src/search-modal.tsx\");\n/* harmony import */ var _service_edit_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./service-edit-modal */ \"./src/service-edit-modal.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar __ = wp.i18n.__;\nvar withSelect = wp.data.withSelect;\nvar allowEdit = kuntaApiBlocks.allowEdit;\n/**\n * Service location block\n */\nvar ServiceComponent = /** @class */ (function (_super) {\n    __extends(ServiceComponent, _super);\n    /*\n     * Constructor\n     *\n     * @param props props\n     */\n    function ServiceComponent(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            isSearchOpen: false,\n            isEditOpen: false,\n            component: _this.props.component,\n            lang: _this.props.lang,\n            serviceId: _this.props.serviceId,\n            version: 0\n        };\n        return _this;\n    }\n    /**\n     * Component did update life-cycle event\n     *\n     * @param prevProps previous props\n     * @param prevState previous state\n     */\n    ServiceComponent.prototype.componentDidUpdate = function (prevProps, prevState) {\n        if (this.state.component !== prevState.component) {\n            this.props.onComponentChange(this.state.component);\n        }\n        if (this.state.lang !== prevState.lang) {\n            this.props.onLangChange(this.state.lang);\n        }\n        if (this.state.serviceId !== prevState.serviceId) {\n            this.props.onServiceIdChange(this.state.serviceId);\n        }\n        if ((JSON.stringify(this.props.service) !== JSON.stringify(prevProps.service))) {\n            this.setState({\n                version: this.state.version + 1\n            });\n        }\n    };\n    /**\n     * Component render method\n     */\n    ServiceComponent.prototype.render = function () {\n        var _this = this;\n        var components = [\n            \"description\",\n            \"userInstruction\",\n            \"languages\",\n            \"electronicServiceChannelIds\",\n            \"phoneServiceChannelIds\",\n            \"printableFormServiceChannelIds\",\n            \"serviceLocationServiceChannelIds\",\n            \"webPageServiceChannelIds\",\n        ];\n        var languages = [\"fi\", \"sv\", \"en\"];\n        var componentOptions = components.map(function (component) {\n            return { label: __(\"servicecomponent.\" + component, 'kunta_api_core'), value: component };\n        });\n        var languageOptions = languages.map(function (language) {\n            return { label: __(\"language.\" + language, 'kunta_api_core'), value: language };\n        });\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null,\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null,\n                this.renderChangeButton(),\n                this.renderEditButton(),\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { fontSize: \"16px\" } },\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { float: \"left\", paddingRight: \"5px\" } }, __('Current service:', 'kunta_api_core')),\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.ServerSideRender, { block: \"kunta-api/service\", attributes: {\n                            serviceId: this.state.serviceId,\n                            lang: this.state.lang,\n                            component: this.state.component\n                        }, urlQueryArgs: { displayName: true, version: this.state.version } }))),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.SelectControl, { label: __(\"Component\", 'kunta_api_core'), value: this.state.component, options: componentOptions, onChange: function (component) {\n                    _this.setState({ component: component });\n                } }),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.SelectControl, { label: __(\"Language\", 'kunta_api_core'), value: this.state.lang, options: languageOptions, onChange: function (lang) {\n                    _this.setState({ lang: lang });\n                } }),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_search_modal__WEBPACK_IMPORTED_MODULE_1__[\"SearchModal\"], { modalTitle: __(\"Search Services\", 'kunta_api_core'), inputLabel: __(\"Search Services\", \"kunta_api_core\"), inputHelp: __(\"Enter some text to search services\", \"kunta_api_core\"), searchAction: \"kunta_api_search_services\", open: this.state.isSearchOpen, getDisplayName: function (entity) {\n                    var names = entity.names || [];\n                    names.sort(function (a, b) {\n                        return a.language === 'fi' ? -1 : 1;\n                    });\n                    return names.length ? names[0].value : null;\n                }, onSelect: function (data) {\n                    _this.setState({ isSearchOpen: false, serviceId: data.id });\n                }, onClose: function () { return _this.setState({ isSearchOpen: false }); } }),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_service_edit_modal__WEBPACK_IMPORTED_MODULE_2__[\"default\"], { serviceId: this.state.serviceId, open: this.state.isEditOpen, onClose: function () { return _this.setState({ isEditOpen: false }); } }),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"hr\", null),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.ServerSideRender, { block: \"kunta-api/service\", attributes: {\n                    serviceId: this.state.serviceId,\n                    lang: this.state.lang,\n                    component: this.state.component\n                }, urlQueryArgs: { preview: true, version: this.state.version } })));\n    };\n    /**\n     * Renders change button if needed\n     */\n    ServiceComponent.prototype.renderChangeButton = function () {\n        var _this = this;\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { float: \"right\" } },\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Button, { className: \"button\", isDefault: true, onClick: function () { return _this.setState({ isSearchOpen: true }); } }, __('Change service', 'kunta_api_core'))));\n    };\n    /**\n     * Renders edit button if needed\n     */\n    ServiceComponent.prototype.renderEditButton = function () {\n        var _this = this;\n        if (!this.state.serviceId || !allowEdit) {\n            return null;\n        }\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { float: \"right\" } },\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Button, { className: \"button\", style: { marginRight: \"2px\" }, isDefault: true, onClick: function () { return _this.setState({ isEditOpen: true }); } }, __('Edit service', 'kunta_api_core'))));\n    };\n    return ServiceComponent;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component));\n/* harmony default export */ __webpack_exports__[\"default\"] = (withSelect(function (select, ownProps) {\n    var getService = select(\"kunta-api/data\").getService;\n    var serviceId = ownProps.serviceId;\n    return {\n        service: serviceId ? getService(serviceId) : {}\n    };\n})(ServiceComponent));\n\n\n//# sourceURL=webpack:///./src/service-component.tsx?");

/***/ }),

/***/ "./src/service-edit-modal.tsx":
/*!************************************!*\
  !*** ./src/service-edit-modal.tsx ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _metaform_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./metaform-modal */ \"./src/metaform-modal.tsx\");\n/* harmony import */ var _adapters_service_adapter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./adapters/service-adapter */ \"./src/adapters/service-adapter.ts\");\n/* harmony import */ var _service_addition_details_edit_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./service-addition-details-edit-modal */ \"./src/service-addition-details-edit-modal.tsx\");\n/* harmony import */ var _service_channels_edit_modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./service-channels-edit-modal */ \"./src/service-channels-edit-modal.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\nvar withSelect = wp.data.withSelect;\nvar _a = wp.i18n, __ = _a.__, sprintf = _a.sprintf;\nvar locales = [\"fi\", \"sv\", \"en\"];\n/**\n * TODO:\n *\n * shortDescription, description should be at least 5 characters long\n * An error occurred: {\"ServiceClasses\":[\"All the service classes are main service classes. Not allowed!\"]}.\n */\n/**\n * Service edit modal component\n */\nvar ServiceEditModal = /** @class */ (function (_super) {\n    __extends(ServiceEditModal, _super);\n    /**\n     * Constructor\n     *\n     * @param props props\n     */\n    function ServiceEditModal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            locale: \"fi\",\n            saving: false,\n            saveError: null,\n            additionalDetailsOpen: false,\n            channelsOpen: false,\n            values: {},\n            additionalValues: {},\n            channelIds: {\n                electronic: [],\n                phone: [],\n                printableForm: [],\n                serviceLocation: [],\n                webpage: []\n            }\n        };\n        return _this;\n    }\n    /**\n     * Component did update life-cycle event\n     *\n     * @param prevProps previous props\n     * @param prevState previous state\n     */\n    ServiceEditModal.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _this = this;\n        if ((JSON.stringify(this.props.service || {}) !== JSON.stringify(prevProps.service || {}))) {\n            var serviceAdapter_1 = new _adapters_service_adapter__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n            var values_1 = {};\n            locales.forEach(function (locale) {\n                values_1[locale] = _this.props.service ? serviceAdapter_1.serviceToForm(locale, _this.props.service) : {};\n            });\n            this.setState({\n                values: values_1,\n                additionalValues: this.props.service ? serviceAdapter_1.serviceAdditinalToForm(this.props.service) : {},\n                channelIds: {\n                    electronic: this.props.service.electronicServiceChannelIds,\n                    phone: this.props.service.phoneServiceChannelIds,\n                    printableForm: this.props.service.printableFormServiceChannelIds,\n                    serviceLocation: this.props.service.serviceLocationServiceChannelIds,\n                    webpage: this.props.service.webPageServiceChannelIds\n                }\n            });\n        }\n    };\n    /**\n     * Component render method\n     */\n    ServiceEditModal.prototype.render = function () {\n        var _this = this;\n        if (!this.props.open) {\n            return null;\n        }\n        if (this.state.channelsOpen) {\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_service_channels_edit_modal__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { serviceId: this.props.serviceId, channelIds: this.state.channelIds, open: this.state.channelsOpen, applyValues: function (channels) { return _this.applyChannelValues(channels); }, onClose: function () {\n                    _this.setState({ channelsOpen: false });\n                } }));\n        }\n        if (this.state.additionalDetailsOpen) {\n            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_service_addition_details_edit_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"], { serviceId: this.props.serviceId, open: this.state.additionalDetailsOpen, values: this.state.additionalValues, applyValues: function (additionalValues) { _this.applyAdditionalValues(additionalValues); }, onClose: function () {\n                    _this.setState({ additionalDetailsOpen: false });\n                } }));\n        }\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_metaform_modal__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { locales: locales, locale: this.state.locale, saveButtonText: __(\"Save\", \"kunta_api_core\"), onLocaleChange: function (locale) { _this.changeLocale(locale); }, onValuesChange: function (locale, values) { _this.updateValues(locale, values); }, form: \"service/service\", values: this.getValues(this.state.locale), title: sprintf(__(\"Edit service (%s)\", \"kunta_api_core\"), this.state.locale), saveError: this.state.saveError, saving: this.state.saving, open: this.props.open, afterFormRender: function (metaform, $metaform) { return _this.afterFormRender(metaform, $metaform); }, onSave: function () { _this.saveService(); }, onClose: function () { _this.setState({ saving: false, saveError: null }); _this.props.onClose(); } }));\n    };\n    /**\n     * Applies additional values into state and closes adiitional details dialog\n     */\n    ServiceEditModal.prototype.applyAdditionalValues = function (additionalValues) {\n        this.setState({\n            additionalValues: additionalValues,\n            additionalDetailsOpen: false,\n        });\n    };\n    /**\n     * Applies channels into state and closes channels dialog\n     *\n     * @param channels channels\n     */\n    ServiceEditModal.prototype.applyChannelValues = function (channels) {\n        this.setState({\n            channelIds: {\n                electronic: channels.electronic.map(function (channel) { return channel.id; }),\n                phone: channels.phone.map(function (channel) { return channel.id; }),\n                printableForm: channels.printableForm.map(function (channel) { return channel.id; }),\n                serviceLocation: channels.serviceLocation.map(function (channel) { return channel.id; }),\n                webpage: channels.webpage.map(function (channel) { return channel.id; }),\n            },\n            channelsOpen: false\n        });\n    };\n    /**\n     * Event run after the form is rendered\n     *\n     * @param $metaform metaform\n     */\n    ServiceEditModal.prototype.afterFormRender = function (metaform, $metaform) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                $metaform.on(\"click\", \".edit-additional-details\", this.onEditAdditionalDetailsClick.bind(this));\n                $metaform.on(\"click\", \".edit-channels\", this.onEditChannelsClick.bind(this));\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * Event handler for additional details button click\n     *\n     * @param event event\n     */\n    ServiceEditModal.prototype.onEditAdditionalDetailsClick = function (event) {\n        this.setState({\n            additionalDetailsOpen: true\n        });\n    };\n    /**\n     * Event handler for edit channel button click\n     *\n     * @param event event\n     */\n    ServiceEditModal.prototype.onEditChannelsClick = function (event) {\n        this.setState({\n            channelsOpen: true\n        });\n    };\n    /**\n     * Changes locale\n     *\n     * @param locale locale\n     */\n    ServiceEditModal.prototype.changeLocale = function (locale) {\n        this.setState({ locale: locale });\n    };\n    /**\n     * Updates form values for locale\n     *\n     * @param locale locale\n     * @param changedValues changed values\n     */\n    ServiceEditModal.prototype.updateValues = function (locale, changedValues) {\n        var newValues = __assign({}, this.state.values);\n        newValues[locale] = changedValues;\n        this.setState({ locale: locale, values: newValues });\n    };\n    /**\n     * Returns values for locale\n     *\n     * @param locale locale\n     * @returns values\n     */\n    ServiceEditModal.prototype.getValues = function (locale) {\n        return this.state.values[locale];\n    };\n    /**\n     * Saves the service\n     */\n    ServiceEditModal.prototype.saveService = function () {\n        var _this = this;\n        var apiFetch = wp.apiFetch;\n        this.setState({\n            saving: true\n        });\n        var serviceAdapter = new _adapters_service_adapter__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n        var serviceData = serviceAdapter.applyToService(this.state.values, this.state.additionalValues, this.state.channelIds, this.props.service);\n        var body = new URLSearchParams();\n        body.append(\"action\", \"kunta_api_save_service\");\n        body.append(\"service\", JSON.stringify(serviceData));\n        apiFetch({ url: ajaxurl, method: \"POST\", body: body })\n            .then(function (updatedService) {\n            wp.data.dispatch(\"kunta-api/data\").setService(_this.props.serviceId, updatedService);\n            _this.setState({\n                saving: false,\n                saveError: null\n            });\n            _this.props.onClose();\n        })\n            .catch(function (err) {\n            _this.setState({\n                saving: false,\n                saveError: JSON.stringify(err)\n            });\n        });\n    };\n    return ServiceEditModal;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component));\n/* harmony default export */ __webpack_exports__[\"default\"] = (withSelect(function (select, ownProps) {\n    var getService = select(\"kunta-api/data\").getService;\n    var serviceId = ownProps.serviceId;\n    return {\n        service: serviceId ? getService(serviceId) : {}\n    };\n})(ServiceEditModal));\n\n\n//# sourceURL=webpack:///./src/service-edit-modal.tsx?");

/***/ }),

/***/ "./src/service-location-page-checkbox.tsx":
/*!************************************************!*\
  !*** ./src/service-location-page-checkbox.tsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar withSelect = wp.data.withSelect;\nvar __ = wp.i18n.__;\n/**\n * mark location channel modal component\n */\nvar ServiceLocationPageCheckbox = /** @class */ (function (_super) {\n    __extends(ServiceLocationPageCheckbox, _super);\n    /**\n     * Constructor\n     *\n     * @param props props\n     */\n    function ServiceLocationPageCheckbox(props) {\n        return _super.call(this, props) || this;\n    }\n    /**\n     * Component render method\n     */\n    ServiceLocationPageCheckbox.prototype.render = function () {\n        var _this = this;\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.CheckboxControl, { label: __(\"Service location page\", \"kunta_api_core\"), checked: this.props.isChecked, onChange: function (isChecked) {\n                if (isChecked) {\n                    wp.data.dispatch(\"kunta-api/data\").addPageChannel(_this.props.channelId);\n                }\n                else {\n                    wp.data.dispatch(\"kunta-api/data\").removePageChannel(_this.props.channelId);\n                }\n            } }));\n    };\n    return ServiceLocationPageCheckbox;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component));\n/* harmony default export */ __webpack_exports__[\"default\"] = (withSelect(function (select, ownProps) {\n    var isPageChannel = select(\"kunta-api/data\").isPageChannel;\n    var channelId = ownProps.channelId;\n    return {\n        isChecked: isPageChannel(channelId)\n    };\n})(ServiceLocationPageCheckbox));\n\n\n//# sourceURL=webpack:///./src/service-location-page-checkbox.tsx?");

/***/ }),

/***/ "./src/service-location-service-channel-block.tsx":
/*!********************************************************!*\
  !*** ./src/service-location-service-channel-block.tsx ***!
  \********************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _service_location_service_channel_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./service-location-service-channel-component */ \"./src/service-location-service-channel-component.tsx\");\n\n\nvar __ = wp.i18n.__;\n/**\n * Registers block type\n *\n * Icon from: https://fontawesome.com/v4.7.0/icon/building\n */\nwp.blocks.registerBlockType('kunta-api/service-location-service-channel', {\n    title: __('Kunta API Service Location', 'kunta_api_core'),\n    icon: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"svg\", { \"aria-hidden\": \"true\", width: \"0.79em\", height: \"1em\", preserveAspectRatio: \"xMidYMid meet\", viewBox: \"0 0 1408 1792\" },\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"path\", { d: \"M1344 0q26 0 45 19t19 45v1664q0 26-19 45t-45 19H64q-26 0-45-19t-19-45V64q0-26 19-45T64 0h1280zM512 288v64q0 14 9 23t23 9h64q14 0 23-9t9-23v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23zm0 256v64q0 14 9 23t23 9h64q14 0 23-9t9-23v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23zm0 256v64q0 14 9 23t23 9h64q14 0 23-9t9-23v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23zm0 256v64q0 14 9 23t23 9h64q14 0 23-9t9-23v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23zm-128 320v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm512 1280v-192q0-14-9-23t-23-9H544q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm0-512v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm256 1024v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23zm0-256v-64q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v64q0 14 9 23t23 9h64q14 0 23-9t9-23z\", fill: \"#626262\" })),\n    category: 'kunta-api',\n    attributes: {\n        channelId: {\n            type: 'string'\n        },\n        component: {\n            type: 'string'\n        },\n        lang: {\n            type: 'string'\n        },\n        serviceLocationPage: {\n            type: 'boolean'\n        }\n    },\n    /**\n     * Block type edit method\n     */\n    edit: (function (params) {\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_service_location_service_channel_component__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { component: params.attributes.component, lang: params.attributes.lang, channelId: params.attributes.channelId, serviceLocationPage: params.attributes.serviceLocationPage, onComponentChange: function (component) {\n                params.setAttributes({ \"component\": component });\n            }, onLangChange: function (lang) {\n                params.setAttributes({ \"lang\": lang });\n            }, onChannelIdChange: function (channelId) {\n                params.setAttributes({ \"channelId\": channelId });\n            }, onServiceLocationPageChange: function (serviceLocationPage) {\n                params.setAttributes({ \"serviceLocationPage\": serviceLocationPage });\n            } }));\n    }),\n    /**\n     * Block type save method\n     */\n    save: function () {\n        return null;\n    }\n});\n\n\n//# sourceURL=webpack:///./src/service-location-service-channel-block.tsx?");

/***/ }),

/***/ "./src/service-location-service-channel-component.tsx":
/*!************************************************************!*\
  !*** ./src/service-location-service-channel-component.tsx ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _search_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./search-modal */ \"./src/search-modal.tsx\");\n/* harmony import */ var _service_location_page_checkbox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./service-location-page-checkbox */ \"./src/service-location-page-checkbox.tsx\");\n/* harmony import */ var _service_channel_edit_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./service-channel-edit-modal */ \"./src/service-channel-edit-modal.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar __ = wp.i18n.__;\nvar _a = wp.data, withSelect = _a.withSelect, subscribe = _a.subscribe;\nvar allowEdit = kuntaApiBlocks.allowEdit;\n/**\n * Service location block\n */\nvar ServiceLocationServiceChannelComponent = /** @class */ (function (_super) {\n    __extends(ServiceLocationServiceChannelComponent, _super);\n    /*\n     * Constructor\n     *\n     * @param props props\n     */\n    function ServiceLocationServiceChannelComponent(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            isOpen: false,\n            component: _this.props.component,\n            lang: _this.props.lang,\n            channelId: _this.props.channelId,\n            serviceLocationPage: _this.props.serviceLocationPage,\n            isEditOpen: false,\n            version: 0\n        };\n        subscribe(function () {\n            var isPageChannel = wp.data.select(\"kunta-api/data\").isPageChannel;\n            _this.setState({\n                serviceLocationPage: isPageChannel(_this.state.channelId)\n            });\n        });\n        return _this;\n    }\n    /**\n     * Component did update life-cycle event\n     *\n     * @param prevProps previous props\n     * @param prevState previous state\n     */\n    ServiceLocationServiceChannelComponent.prototype.componentDidUpdate = function (prevProps, prevState) {\n        if (this.state.component !== prevState.component) {\n            this.props.onComponentChange(this.state.component);\n        }\n        if (this.state.lang !== prevState.lang) {\n            this.props.onLangChange(this.state.lang);\n        }\n        if (this.state.channelId !== prevState.channelId) {\n            this.props.onChannelIdChange(this.state.channelId);\n        }\n        if (this.state.serviceLocationPage !== prevState.serviceLocationPage) {\n            this.props.onServiceLocationPageChange(this.state.serviceLocationPage);\n        }\n        if ((JSON.stringify(this.props.channel || {}) !== JSON.stringify(prevProps.channel || {}))) {\n            this.setState({\n                version: this.state.version + 1\n            });\n        }\n    };\n    /**\n     * Component render method\n     */\n    ServiceLocationServiceChannelComponent.prototype.render = function () {\n        var _this = this;\n        var components = [\n            \"description\",\n            \"addresses\",\n            \"email\",\n            \"fax\",\n            \"name\",\n            \"phone\",\n            \"phone-charge-info\",\n            \"servicehours\",\n            \"webpages\"\n        ];\n        var languages = [\"fi\", \"sv\", \"en\"];\n        var componetOptions = components.map(function (component) {\n            return { label: __(\"servicelocationservicechannel.\" + component, 'kunta_api_core'), value: component };\n        });\n        var languageOptions = languages.map(function (language) {\n            return { label: __(\"language.\" + language, 'kunta_api_core'), value: language };\n        });\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null,\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null,\n                this.renderChangeButton(),\n                this.renderEditButton(),\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { fontSize: \"16px\" } },\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { float: \"left\", paddingRight: \"5px\" } }, __('Current service location:', 'kunta_api_core')),\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.ServerSideRender, { block: \"kunta-api/service-location-service-channel\", attributes: {\n                            channelId: this.state.channelId,\n                            lang: this.state.lang,\n                            component: this.state.component\n                        }, urlQueryArgs: { displayName: true, version: this.state.version } }))),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.SelectControl, { label: __(\"Component\", 'kunta_api_core'), value: this.state.component, options: componetOptions, onChange: function (component) {\n                    _this.setState({ component: component });\n                } }),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.SelectControl, { label: __(\"Language\", 'kunta_api_core'), value: this.state.lang, options: languageOptions, onChange: function (lang) {\n                    _this.setState({ lang: lang });\n                } }),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_search_modal__WEBPACK_IMPORTED_MODULE_1__[\"SearchModal\"], { modalTitle: __(\"Search Services Locations\", 'kunta_api_core'), inputLabel: __(\"Search Services Locations\", \"kunta_api_core\"), inputHelp: __(\"Enter some text to search service locations\", \"kunta_api_core\"), searchAction: \"kunta_api_search_service_location_channels\", open: this.state.isOpen, getDisplayName: function (entity) {\n                    var names = entity.names || [];\n                    names.sort(function (a, b) {\n                        return a.language === 'fi' ? -1 : 1;\n                    });\n                    return names.length ? names[0].value : null;\n                }, onSelect: function (data) {\n                    _this.setState({ isOpen: false, channelId: data.id });\n                }, onClose: function () { return _this.setState({ isOpen: false }); } }),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_service_location_page_checkbox__WEBPACK_IMPORTED_MODULE_2__[\"default\"], { channelId: this.state.channelId, onChange: function (isChecked) {\n                    _this.setState({ serviceLocationPage: isChecked });\n                } }),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"hr\", null),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_service_channel_edit_modal__WEBPACK_IMPORTED_MODULE_3__[\"default\"], { channelId: this.state.channelId, channelType: \"serviceLocation\", open: this.state.isEditOpen, onClose: function () { return _this.setState({ isEditOpen: false }); } }),\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.ServerSideRender, { block: \"kunta-api/service-location-service-channel\", attributes: {\n                    channelId: this.state.channelId,\n                    lang: this.state.lang,\n                    component: this.state.component\n                }, urlQueryArgs: { preview: true, version: this.state.version } })));\n    };\n    /**\n     * Renders change button if needed\n     */\n    ServiceLocationServiceChannelComponent.prototype.renderChangeButton = function () {\n        var _this = this;\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { float: \"right\" } },\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Button, { className: \"button\", isDefault: true, onClick: function () { return _this.setState({ isOpen: true }); } }, __('Change service location', 'kunta_api_core'))));\n    };\n    /**\n     * Renders edit button if needed\n     */\n    ServiceLocationServiceChannelComponent.prototype.renderEditButton = function () {\n        var _this = this;\n        if (!this.state.channelId || !allowEdit) {\n            return null;\n        }\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { style: { float: \"right\" } },\n            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(wp.components.Button, { className: \"button\", style: { marginRight: \"2px\" }, isDefault: true, onClick: function () { return _this.setState({ isEditOpen: true }); } }, __('Edit service location', 'kunta_api_core'))));\n    };\n    return ServiceLocationServiceChannelComponent;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component));\n/* harmony default export */ __webpack_exports__[\"default\"] = (withSelect(function (select, ownProps) {\n    var getServiceChannel = select(\"kunta-api/data\").getServiceChannel;\n    var channelId = ownProps.channelId;\n    return {\n        channel: channelId ? getServiceChannel(\"serviceLocation\", channelId) : {}\n    };\n})(ServiceLocationServiceChannelComponent));\n\n\n//# sourceURL=webpack:///./src/service-location-service-channel-component.tsx?");

/***/ }),

/***/ "./src/servicehour-modal.tsx":
/*!***********************************!*\
  !*** ./src/servicehour-modal.tsx ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _metaform_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./metaform-modal */ \"./src/metaform-modal.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\nvar __ = wp.i18n.__;\n/**\n * service hour modal component\n */\nvar ServiceHourModal = /** @class */ (function (_super) {\n    __extends(ServiceHourModal, _super);\n    /**\n     * Constructor\n     *\n     * @param props props\n     */\n    function ServiceHourModal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            values: props.values\n        };\n        return _this;\n    }\n    /**\n     * Component render method\n     */\n    ServiceHourModal.prototype.render = function () {\n        var _this = this;\n        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_metaform_modal__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { form: \"general/servicehour\", values: this.state.values, title: __(\"Service hour\", \"kunta_api_core\"), saveButtonText: this.props.okButtonText, open: true, onValuesChange: function (locale, values) { _this.setState({ values: values }); }, onSave: function () { _this.props.onOkClick(_this.state.values); }, onClose: function () { _this.props.onClose(); }, afterFormRender: function (metaform, $metaform) { _this.afterFormRender(metaform, $metaform); } }));\n    };\n    /**\n     * Event run after the form is rendered\n     *\n     * @param $metaform metaform\n     */\n    ServiceHourModal.prototype.afterFormRender = function (metaform, $metaform) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/];\n            });\n        });\n    };\n    return ServiceHourModal;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component));\n/* harmony default export */ __webpack_exports__[\"default\"] = (ServiceHourModal);\n\n\n//# sourceURL=webpack:///./src/servicehour-modal.tsx?");

/***/ }),

/***/ "./src/store.tsx":
/*!***********************!*\
  !*** ./src/store.tsx ***!
  \***********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\nvar registerStore = wp.data.registerStore;\n/**\n * Actions for kunta-api/data store\n */\nvar actions = {\n    /**\n     * Setter action for service\n     *\n     * @param serviceId service id\n     * @param service service\n     */\n    setService: function (serviceId, service) {\n        return {\n            type: 'SET_SERVICE',\n            serviceId: serviceId,\n            service: service\n        };\n    },\n    /**\n     * Setter action for electronic service channel\n     *\n     * @param channelType channel type\n     * @param channelId channel id\n     * @param channel channel\n     */\n    setServiceChannel: function (channelType, channelId, channel) {\n        return {\n            type: 'SET_SERVICE_CHANNEL',\n            channelType: channelType,\n            channelId: channelId,\n            channel: channel\n        };\n    },\n    /**\n     * Add action for page service id\n     *\n     * @param pageChannelId channel id\n     */\n    addPageChannel: function (pageChannelId) {\n        return {\n            type: 'ADD_PAGE_CHANNEL',\n            pageChannelId: pageChannelId\n        };\n    },\n    /**\n     * Remove action for page service id\n     *\n     * @param pageChannelId channel id\n     */\n    removePageChannel: function (pageChannelId) {\n        return {\n            type: 'REMOVE_PAGE_CHANNEL',\n            pageChannelId: pageChannelId\n        };\n    }\n};\n/**\n * Register kunta-api/data store\n */\nregisterStore(\"kunta-api/data\", {\n    /**\n     * Store reducer\n     */\n    reducer: function (storeState, action) {\n        if (storeState === void 0) { storeState = { services: {}, pageChannelIds: [], serviceChannelTypeMap: { electronic: {}, phone: {}, printableForm: {}, webpage: {}, serviceLocation: {} } }; }\n        switch (action.type) {\n            case \"SET_SERVICE\":\n                var services = __assign({}, storeState.services);\n                services[action.serviceId] = action.service;\n                return __assign({}, storeState, { services: services });\n            case \"SET_SERVICE_CHANNEL\":\n                var serviceChannelTypeMap = __assign({}, storeState.serviceChannelTypeMap);\n                var serviceChannelMap = serviceChannelTypeMap[action.channelType];\n                serviceChannelMap[action.channelId] = action.channel;\n                return __assign({}, storeState, { serviceChannelTypeMap: serviceChannelTypeMap });\n            case \"ADD_PAGE_CHANNEL\":\n                return __assign({}, storeState, { pageChannelIds: (storeState.pageChannelIds || []).concat(action.pageChannelId) });\n            case \"REMOVE_PAGE_CHANNEL\":\n                return __assign({}, storeState, { pageChannelIds: (storeState.pageChannelIds || []).filter(function (pageChannelId) { return pageChannelId !== action.pageChannelId; }) });\n        }\n        return storeState;\n    },\n    actions: actions,\n    selectors: {\n        /**\n         * Returns service from store by id\n         *\n         * @param storeState store state\n         * @param serviceId service id\n         */\n        getService: function (storeState, serviceId) {\n            return storeState.services[serviceId];\n        },\n        /**\n         * Returns electronic service channel from store by id\n         *\n         * @param storeState store state\n         * @param serviceId service id\n         */\n        getServiceChannel: function (storeState, channelType, channelId) {\n            return storeState.serviceChannelTypeMap[channelType][channelId];\n        },\n        /**\n         * Returns whether channel is page channel or not\n         *\n         * @param storeState store state\n         * @param pageChannelId service channel id\n         */\n        isPageChannel: function (storeState, pageChannelId) {\n            return (storeState.pageChannelIds || []).indexOf(pageChannelId) > -1;\n        }\n    },\n    resolvers: {\n        /**\n         * Loads initial service into store from server\n         *\n         * @param serviceId service id\n         * @returns service setter action\n         */\n        getService: function (serviceId) {\n            return __awaiter(this, void 0, void 0, function () {\n                var apiFetch, body, service;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            apiFetch = wp.apiFetch;\n                            body = new URLSearchParams();\n                            body.append(\"action\", \"kunta_api_load_service\");\n                            body.append(\"serviceId\", serviceId);\n                            return [4 /*yield*/, apiFetch({ url: ajaxurl, method: \"POST\", body: body })];\n                        case 1:\n                            service = _a.sent();\n                            return [2 /*return*/, actions.setService(serviceId, service)];\n                    }\n                });\n            });\n        },\n        /**\n         * Loads initial service channel into store from server\n         *\n         * @param channelType channel type\n         * @param channelId channel id\n         * @returns channel setter action\n         */\n        getServiceChannel: function (channelType, channelId) {\n            return __awaiter(this, void 0, void 0, function () {\n                var _a, _b, _c;\n                return __generator(this, function (_d) {\n                    switch (_d.label) {\n                        case 0:\n                            _b = (_a = actions).setServiceChannel;\n                            _c = [channelType, channelId];\n                            return [4 /*yield*/, _utils__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findServiceChannel(channelType, channelId)];\n                        case 1: return [2 /*return*/, _b.apply(_a, _c.concat([_d.sent()]))];\n                    }\n                });\n            });\n        },\n        /**\n         * Returns whether given channel id is marked as a page service or not\n         *\n         * @param pageChannelId page channel id\n         * @return whether given channel id is marked as a page service or not\n         */\n        isPageChannel: function (pageChannelId) {\n            var serviceLocationPage = wp.data.select(\"core/editor\").getBlocks().filter(function (block) {\n                var attrs = block.attributes;\n                return block.name === \"kunta-api/service-location-service-channel\" && attrs && attrs.pageChannelId == pageChannelId && attrs.serviceLocationPage;\n            }).length > 0;\n            if (serviceLocationPage) {\n                return actions.addPageChannel(pageChannelId);\n            }\n            else {\n                return actions.removePageChannel(pageChannelId);\n            }\n        }\n    }\n});\n\n\n//# sourceURL=webpack:///./src/store.tsx?");

/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __ = wp.i18n.__;\nvar Utils = /** @class */ (function () {\n    function Utils() {\n    }\n    /**\n     * Search codes\n     *\n     * @param types types\n     * @param search search\n     * @returns promise for search results\n     */\n    Utils.searchCodes = function (types, search) {\n        var body = new URLSearchParams();\n        body.append(\"action\", \"kunta_api_search_codes\");\n        body.append(\"types\", types);\n        body.append(\"search\", search);\n        return wp.apiFetch({ url: ajaxurl, method: \"POST\", body: body });\n    };\n    /**\n     * Finds a service channel by type and id\n     *\n     * @param type channel type\n     * @param channelId channel id\n     */\n    Utils.findServiceChannel = function (type, channelId) {\n        var apiFetch = wp.apiFetch;\n        var body = new URLSearchParams();\n        var actionTypeMap = {\n            electronic: \"electronic\",\n            phone: \"phone\",\n            printableForm: \"printable_form\",\n            webpage: \"webpage\",\n            serviceLocation: \"service_location\"\n        };\n        body.append(\"action\", \"kunta_api_load_\" + actionTypeMap[type] + \"_service_channel\");\n        body.append(\"id\", channelId);\n        return apiFetch({ url: ajaxurl, method: \"POST\", body: body });\n    };\n    /**\n     * Searches organizations\n     *\n     * @param search search term\n     */\n    Utils.searchOrganizations = function (search) {\n        var body = new URLSearchParams();\n        body.append(\"action\", \"kunta_api_search_organizations\");\n        body.append(\"search\", this.splitSearchTerms(search));\n        return wp.apiFetch({ url: ajaxurl, method: \"POST\", body: body });\n    };\n    /**\n     * Finds an organization by id\n     *\n     * @param id organization id\n     * @returns promise for organization\n     */\n    Utils.findOrganization = function (id) {\n        var body = new URLSearchParams();\n        body.append(\"action\", \"kunta_api_find_organization\");\n        body.append(\"id\", id);\n        return wp.apiFetch({ url: ajaxurl, method: \"POST\", body: body });\n    };\n    /**\n     * Splits search into terms\n     *\n     * @param search search\n     * @return search terms\n     */\n    Utils.splitSearchTerms = function (search) {\n        if (!search) {\n            return null;\n        }\n        var searchTerms = search.replace(/\\ {1,}/g, ' ').split(' ').map(function (term) {\n            return \"+(\" + term + \"*)\";\n        });\n        return searchTerms.join(' ');\n    };\n    /**\n     * Returns code name with type\n     *\n     * @param codeItem item\n     */\n    Utils.getCodeNameWithType = function (codeItem) {\n        var name = this.getLocalizedValue(codeItem.name || codeItem.names, 'fi');\n        var type = this.getCodeTypeName(codeItem.type);\n        return name + \" (\" + type + \")\";\n    };\n    /**\n     * Returns nunicipality name with type\n     *\n     * @param codeItem item\n     */\n    Utils.getMunicipalityNameWithType = function (municipality) {\n        var name = this.getLocalizedValue(municipality.names, 'fi');\n        var type = this.getCodeTypeName('Municipality');\n        return name + \" (\" + type + \")\";\n    };\n    /**\n     * Returns localized value\n     *\n     * @param values array containing localized values\n     * @param locale Locale\n     * @param property property containing value. Defaults to 'value'\n     * @returns value\n     */\n    Utils.getLocalizedValue = function (values, locale, property) {\n        if (!values) {\n            return null;\n        }\n        for (var i = 0; i < values.length; i++) {\n            if (locale === values[i].language) {\n                return values[i][property || 'value'];\n            }\n        }\n        return null;\n    };\n    /**\n     * Returns first matching locale value\n     *\n     * @param values array containing localized values\n     */\n    Utils.getAnyLocalizedValue = function (values) {\n        var locales = values.map(function (value) {\n            return value.locale;\n        });\n        for (var i = 0; i < locales.length; i++) {\n            var result = this.getLocalizedValue(values, locales[i]);\n            if (result) {\n                return result;\n            }\n        }\n        return null;\n    };\n    /**\n     * Translates language list to be suitable for form\n     *\n     * @param languages language codes\n     * @returns Promise for language items\n     */\n    Utils.loadLanguageCodes = function (languages) {\n        return __awaiter(this, void 0, void 0, function () {\n            var languageQuery, languageQueryResult, languageMap;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        languageQuery = languages\n                            .filter(function (language) { return !!language; })\n                            .map(function (language) {\n                            return \"code:\" + language;\n                        }).join(' ');\n                        if (!languageQuery) {\n                            return [2 /*return*/, []];\n                        }\n                        return [4 /*yield*/, Utils.searchCodes(\"Language\", \"+(\" + languageQuery + \")\")];\n                    case 1:\n                        languageQueryResult = _a.sent();\n                        languageMap = {};\n                        languageQueryResult.forEach(function (queryResult) {\n                            languageMap[queryResult.code] = Utils.getLocalizedValue(queryResult.names, 'fi');\n                        });\n                        return [2 /*return*/, languages.map(function (language) {\n                                return {\n                                    value: language,\n                                    label: languageMap[language] || language\n                                };\n                            })];\n                }\n            });\n        });\n    };\n    /**\n     * Translates language list to be suitable for form\n     *\n     * @param areaIds codes\n     * @returns promise for areas\n     */\n    Utils.loadAreas = function (areaIds) {\n        return __awaiter(this, void 0, void 0, function () {\n            var types, results;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        types = {};\n                        areaIds.forEach(function (areaId) {\n                            var parts = areaId.split(\":\");\n                            types[parts[0]] = (types[parts[0]] || []).concat(\"code:\" + parts[1]);\n                        });\n                        return [4 /*yield*/, Promise.all(Object.keys(types).map(function (type) {\n                                var query = types[type].join(\" \");\n                                return Utils.searchCodes(type, \"+(\" + query + \")\");\n                            }))];\n                    case 1:\n                        results = _a.sent();\n                        return [2 /*return*/, [].concat.apply([], results)];\n                }\n            });\n        });\n    };\n    /**\n     * Returns name for type\n     *\n     * @param type type\n     * @returns name\n     */\n    Utils.getCodeTypeName = function (type) {\n        return __(\"codetype.\" + type, \"kunta_api_core\");\n    };\n    /**\n     * Returns day's name by index (0 = sunday)\n     *\n     * @param index day index\n     * @param short whether to return short or long name\n     */\n    Utils.getDayName = function (index, short) {\n        var longDayNames = {\n            0: __(\"Sunday\", \"kunta_api_core\"),\n            1: __(\"Monday\", \"kunta_api_core\"),\n            2: __(\"Tuesday\", \"kunta_api_core\"),\n            3: __(\"Wednesday\", \"kunta_api_core\"),\n            4: __(\"Thursday\", \"kunta_api_core\"),\n            5: __(\"Friday\", \"kunta_api_core\"),\n            6: __(\"Saturday\", \"kunta_api_core\"),\n        };\n        var shortDayNames = {\n            0: __(\"Sun.\", \"kunta_api_core\"),\n            1: __(\"Mon.\", \"kunta_api_core\"),\n            2: __(\"Tue.\", \"kunta_api_core\"),\n            3: __(\"Wed.\", \"kunta_api_core\"),\n            4: __(\"Thu.\", \"kunta_api_core\"),\n            5: __(\"Fri.\", \"kunta_api_core\"),\n            6: __(\"Sat.\", \"kunta_api_core\"),\n        };\n        return short ? shortDayNames[index] : longDayNames[index];\n    };\n    /**\n     * Formats date for displaying\n     *\n     * @param date date\n     * @returns formatted date\n     */\n    Utils.formatDate = function (date) {\n        return moment(date).locale('fi').format('ll');\n    };\n    /**\n     * Formats date and time for displaying\n     *\n     * @param date date\n     * @param time time\n     * @returns formatted date time\n     */\n    Utils.formatDateWithTime = function (date, time) {\n        var result = this.formatDate(date);\n        if (time) {\n            return result + \" \" + time;\n        }\n        return result;\n    };\n    /**\n     * Formats date and time range for displaying\n     *\n     * @param date date\n     * @param startTime start time\n     * @param endTime end time\n     * @returns formatted date and time range\n     */\n    Utils.formatDateWithTimes = function (date, startTime, endTime) {\n        var start = this.formatDateWithTime(date, startTime);\n        return endTime ? start + \" - \" + endTime : start;\n    };\n    /**\n     * Parses ISO date string into Date object\n     *\n     * @param string ISO date string\n     * @returns Date object\n     */\n    Utils.parseIsoDate = function (string) {\n        if (!string) {\n            return null;\n        }\n        return new Date(Date.parse(string));\n    };\n    return Utils;\n}());\n/* harmony default export */ __webpack_exports__[\"default\"] = (Utils);\n\n\n//# sourceURL=webpack:///./src/utils.ts?");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "React" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = React;\n\n//# sourceURL=webpack:///external_%22React%22?");

/***/ })

/******/ });